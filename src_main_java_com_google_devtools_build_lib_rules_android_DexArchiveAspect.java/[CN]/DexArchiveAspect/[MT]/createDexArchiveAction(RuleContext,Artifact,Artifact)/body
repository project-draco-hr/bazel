{
  SpawnAction.Builder dexbuilder=new SpawnAction.Builder().setExecutable(ruleContext.getExecutablePrerequisite("$dexbuilder",Mode.HOST)).addArgument("--input_jar").addInputArgument(jar).addArgument("--output_zip").addOutputArgument(dexArchive).setMnemonic("DexBuilder").setProgressMessage("Dexing " + jar.prettyPrint());
  if (ruleContext.getConfiguration().isCodeCoverageEnabled()) {
    dexbuilder.addArgument("--nolocals");
  }
  ruleContext.registerAction(dexbuilder.build(ruleContext));
}
