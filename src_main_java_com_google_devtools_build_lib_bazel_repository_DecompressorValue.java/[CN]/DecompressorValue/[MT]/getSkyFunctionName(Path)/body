{
  String baseName=archivePath.getBaseName();
  if (baseName.endsWith(".zip") || baseName.endsWith(".jar") || baseName.endsWith(".war")) {
    return ZipFunction.NAME;
  }
 else   if (baseName.endsWith(".tar.gz") || baseName.endsWith(".tgz")) {
    return TarGzFunction.NAME;
  }
 else {
    throw new IOException(String.format("Expected a file with a .zip, .jar, .war, .tar.gz, or .tgz suffix (got %s)",archivePath));
  }
}
