{
  ImmutableMultimap.Builder<Path,Path> mounts=ImmutableMultimap.builder();
  FileSystem fs=blazeDirs.getFileSystem();
  for (  Entry<PathFragment,Artifact> manifest : spawn.getRunfilesManifests().entrySet()) {
    String manifestFilePath=manifest.getValue().getPath().getPathString();
    Preconditions.checkState(!manifest.getKey().isAbsolute());
    Path targetDirectory=execRoot.getRelative(manifest.getKey());
    for (    String line : Files.readLines(new File(manifestFilePath),Charset.defaultCharset())) {
      String[] fields=line.split(" ");
      Preconditions.checkState(fields.length == 2,"'" + line + "' does not split into exactly 2 parts");
      Path source=fs.getPath(fields[1]);
      Path targetPath=targetDirectory.getRelative(fields[0]);
      Path targetInSandbox=sandboxPath.getRelative(targetPath.asFragment().relativeTo("/"));
      mounts.put(source,targetInSandbox);
    }
  }
  return mounts.build();
}
