{
  MountMap mounts=new MountMap();
  if (!path.isDirectory(Symlinks.NOFOLLOW)) {
    if (!exclude.contains(path)) {
      mounts.put(path,path);
    }
    return mounts;
  }
  try {
    for (    Path child : path.getDirectoryEntries()) {
      if (!child.exists()) {
        continue;
      }
      mounts.putAll(mountChildDirExclude(child,exclude));
    }
  }
 catch (  IOException e) {
    throw new IOException("Illegal additional path for mount",e);
  }
  return mounts;
}
