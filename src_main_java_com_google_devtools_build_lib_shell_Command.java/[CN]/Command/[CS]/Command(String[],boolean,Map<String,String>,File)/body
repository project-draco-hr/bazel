{
  if (commandLineElements == null || commandLineElements.length == 0) {
    throw new IllegalArgumentException("command line is null or empty");
  }
  this.processBuilder=new ProcessBuilder(maybeAddShell(commandLineElements,useShell));
  if (environmentVariables != null) {
    this.processBuilder.environment().clear();
    this.processBuilder.environment().putAll(environmentVariables);
  }
  this.processBuilder.directory(workingDirectory);
}
