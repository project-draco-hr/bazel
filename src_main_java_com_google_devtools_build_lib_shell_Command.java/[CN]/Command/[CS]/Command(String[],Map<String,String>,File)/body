{
  if (commandLineElements == null || commandLineElements.length == 0) {
    throw new IllegalArgumentException("command line is null or empty");
  }
  File executable=new File(commandLineElements[0]);
  if (!executable.isAbsolute() && executable.getParent() != null) {
    commandLineElements=commandLineElements.clone();
    commandLineElements[0]=new File(workingDirectory,commandLineElements[0]).getAbsolutePath();
  }
  this.processBuilder=new ProcessBuilder(commandLineElements);
  if (environmentVariables != null) {
    this.processBuilder.environment().clear();
    this.processBuilder.environment().putAll(environmentVariables);
  }
  this.processBuilder.directory(workingDirectory);
}
