{
  SkyKey pkgKey=PackageValue.key(pkgIdentifier);
  Package pkg;
  try {
    PackageValue pkgValue=(PackageValue)env.getValueOrThrow(pkgKey,NoSuchPackageException.class);
    if (pkgValue == null) {
      throw new MissingDepException();
    }
    pkg=pkgValue.getPackage();
  }
 catch (  NoSuchPackageException e) {
    pkg=e.getPackage();
    if (pkg == null) {
      throw e;
    }
  }
  return pkg;
}
