{
  if (inputs.isEmpty()) {
    RunfilesSupport aaptRunnerRunfiles=tools.getToolRunner().getRunfilesSupport();
    Preconditions.checkState(aaptRunnerRunfiles != null,tools.getToolRunner().getLabel());
    Iterables.addAll(inputs,aaptRunnerRunfiles.getRunfilesArtifactsWithoutMiddlemen());
    inputs.add(tools.getAndroidJar());
    inputs.add(manifest);
    Iterables.addAll(inputs,Iterables.concat(Iterables.transform(resourceContainers,new Function<AndroidResourcesProvider.ResourceContainer,Iterable<Artifact>>(){
      @Override public Iterable<Artifact> apply(      ResourceContainer container){
        return container.getArtifacts();
      }
    }
)));
  }
  return inputs;
}
