{
  if (inputs.isEmpty()) {
    FilesToRunProvider toolRunner=ruleContext.getExecutablePrerequisite("$android_tool_runner",Mode.HOST);
    RunfilesSupport aaptRunnerRunfiles=toolRunner.getRunfilesSupport();
    Preconditions.checkState(aaptRunnerRunfiles != null);
    Iterables.addAll(inputs,aaptRunnerRunfiles.getRunfilesArtifactsWithoutMiddlemen());
    inputs.add(AndroidSdkProvider.fromRuleContext(ruleContext).getAndroidJar());
    inputs.add(manifest);
    Iterables.addAll(inputs,Iterables.concat(Iterables.transform(resourceContainers,new Function<AndroidResourcesProvider.ResourceContainer,Iterable<Artifact>>(){
      @Override public Iterable<Artifact> apply(      ResourceContainer container){
        return container.getArtifacts();
      }
    }
)));
  }
  return inputs;
}
