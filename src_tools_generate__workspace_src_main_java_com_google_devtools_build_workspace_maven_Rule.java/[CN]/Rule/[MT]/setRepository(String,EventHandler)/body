{
  int uriStart=url.indexOf(getUri());
  if (uriStart == -1) {
    handler.handle(Event.warn(name() + " was defined in " + url+ " which isn't a repository URL, so we couldn't figure out how to fetch "+ toMavenArtifactString()+ " in a general way. You will need to set the \"repository\""+ " attribute manually"));
  }
 else {
    this.repository=url.substring(0,uriStart);
    String jarSha1Url=url.replaceAll("pom$","jar.sha1");
    try {
      HttpURLConnection connection=(HttpURLConnection)new URL(jarSha1Url).openConnection();
      connection.setInstanceFollowRedirects(true);
      connection.connect();
      this.sha1=CharStreams.toString(new InputStreamReader(connection.getInputStream())).trim();
    }
 catch (    IOException e) {
      handler.handle(Event.warn("Failed to download the sha1 at " + jarSha1Url));
    }
  }
}
