{
  if (depsContexts.isEmpty()) {
    return NestedSetBuilder.emptySet(Order.STABLE_ORDER);
  }
  NestedSetBuilder<Artifact> builder=NestedSetBuilder.stableOrder();
  for (  DepsContext depsContext : depsContexts) {
    builder.addTransitive(depsContext.topLevelHeaderModules);
    builder.addTransitive(depsContext.impliedHeaderModules);
    builder.addTransitive(depsContext.directModuleMaps);
    if (provideTransitiveModuleMaps) {
      builder.addTransitive(depsContext.transitiveModuleMaps);
    }
  }
  if (cppModuleMap != null) {
    builder.add(cppModuleMap.getArtifact());
  }
  return builder.build();
}
