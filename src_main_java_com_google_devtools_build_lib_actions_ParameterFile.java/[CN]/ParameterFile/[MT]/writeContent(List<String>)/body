{
  Iterable<String> actualArgs=(type == ParameterFileType.SHELL_QUOTED) ? ShellEscaper.escapeAll(arguments) : arguments;
  Path file=getPath();
  try {
    FileSystemUtils.writeLinesAs(file,charset,actualArgs);
  }
 catch (  IOException e) {
    throw new EnvironmentalExecException("could not write param file '" + file + "'",e);
  }
}
