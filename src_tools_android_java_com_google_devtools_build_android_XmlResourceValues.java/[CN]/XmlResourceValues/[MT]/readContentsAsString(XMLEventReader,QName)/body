{
  StringBuilder contents=new StringBuilder();
  while (!isEndTag(eventReader.peek(),startTag)) {
    XMLEvent xmlEvent=eventReader.nextEvent();
    if (xmlEvent.isCharacters()) {
      contents.append(escapeXmlValues(xmlEvent.asCharacters().getData()));
    }
 else     if (xmlEvent.isStartElement()) {
      QName name=xmlEvent.asStartElement().getName();
      contents.append("<");
      if (!name.getNamespaceURI().isEmpty()) {
        contents.append(name.getPrefix()).append(':').append(name.getLocalPart()).append(' ').append("xmlns:").append(name.getPrefix()).append("='").append(name.getNamespaceURI()).append("'");
      }
 else {
        contents.append(name.getLocalPart());
      }
      contents.append(">");
    }
 else     if (xmlEvent.isEndElement()) {
      QName name=xmlEvent.asEndElement().getName();
      contents.append("</");
      if (!name.getNamespaceURI().isEmpty()) {
        contents.append(name.getPrefix()).append(':').append(name.getLocalPart());
      }
 else {
        contents.append(name.getLocalPart());
      }
      contents.append(">");
    }
  }
  EndElement endElement=eventReader.nextEvent().asEndElement();
  Preconditions.checkArgument(endElement.getName().equals(startTag));
  return contents.toString();
}
