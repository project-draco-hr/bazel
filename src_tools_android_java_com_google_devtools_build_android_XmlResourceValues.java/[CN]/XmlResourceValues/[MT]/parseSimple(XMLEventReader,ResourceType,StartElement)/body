{
  Map<String,String> attributeMap=new LinkedHashMap<>();
  Iterator<Attribute> attributes=iterateAttributesFrom(start);
  while (attributes.hasNext()) {
    Attribute attribute=attributes.next();
    QName name=attribute.getName();
    if (ATTR_NAME.equals(name)) {
      continue;
    }
    String value=escapeXmlValues(attribute.getValue()).replace("\"","&quot;");
    if (!name.getNamespaceURI().isEmpty()) {
      if (!(XLIFF_NAMESPACE.equals(name.getNamespaceURI()) && XLIFF_PREFIX.equals(name.getPrefix()))) {
        attributeMap.put("xmlns:" + name.getPrefix(),name.getNamespaceURI());
      }
      attributeMap.put(name.getPrefix() + ":" + attribute.getName().getLocalPart(),value);
    }
 else {
      attributeMap.put(attribute.getName().getLocalPart(),value);
    }
  }
  String contents;
  if (isEndTag(eventReader.peek(),start.getName())) {
    contents=null;
  }
 else {
    contents=readContentsAsString(eventReader,start.getName());
  }
  return SimpleXmlResourceValue.of(start.getName().equals(TAG_ITEM) ? SimpleXmlResourceValue.Type.ITEM : SimpleXmlResourceValue.Type.from(resourceType),ImmutableMap.copyOf(attributeMap),contents);
}
