{
  List<Event> events=new ArrayList<>();
  for (  Label envName : environments) {
    Target env=pkgTargets.get(envName.getName());
    if (env == null) {
      events.add(Event.error(location,"environment " + envName + " does not exist"));
    }
 else     if (!env.getTargetKind().equals("environment rule")) {
      events.add(Event.error(location,env.getLabel() + " is not a valid environment"));
    }
  }
  return events;
}
