{
  NestedSetBuilder<Artifact> prerequisites=NestedSetBuilder.stableOrder();
  if (ruleContext.attributes().has("srcs",BuildType.LABEL_LIST)) {
    for (    FileProvider provider : ruleContext.getPrerequisites("srcs",Mode.TARGET,FileProvider.class)) {
      prerequisites.addAll(FileType.filter(provider.getFilesToBuild(),SOURCE_TYPES));
    }
  }
  prerequisites.addTransitive(context.getDeclaredIncludeSrcs());
  return prerequisites.build();
}
