{
  if (featureConfiguration.isEnabled(CppRuleClasses.PREPROCESS_HEADERS) || featureConfiguration.isEnabled(CppRuleClasses.PARSE_HEADERS)) {
    return true;
  }
  boolean crosstoolSupportsHeaderParsing=CppHelper.getToolchain(ruleContext).supportsHeaderParsing();
  return crosstoolSupportsHeaderParsing && (ruleContext.getFeatures().contains(CppRuleClasses.PREPROCESS_HEADERS) || ruleContext.getFeatures().contains(CppRuleClasses.PARSE_HEADERS));
}
