{
  Preconditions.checkNotNull(universeScope);
  return orderedResults || universeScope.isEmpty() || packagePath == null ? new BlazeQueryEnvironment(transitivePackageLoader,packageProvider,targetPatternEvaluator,keepGoing,strictScope,loadingPhaseThreads,labelFilter,eventHandler,settings,functions) : new SkyQueryEnvironment(keepGoing,strictScope,loadingPhaseThreads,labelFilter,eventHandler,settings,functions,targetPatternEvaluator.getOffset(),graphFactory,universeScope,packagePath);
}
