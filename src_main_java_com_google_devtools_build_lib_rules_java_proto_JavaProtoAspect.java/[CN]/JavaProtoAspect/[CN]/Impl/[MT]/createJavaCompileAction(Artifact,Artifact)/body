{
  JavaLibraryHelper helper=new JavaLibraryHelper(ruleContext).setOutput(outputJar).addSourceJars(sourceJar).setJavacOpts(constructJavacOpts());
  helper.addDep(dependencyCompilationArgs);
  helper.addDep(ruleContext.getPrerequisite(protoRuntimeAttr,Mode.TARGET,JavaCompilationArgsProvider.class)).setStrictDepsMode(isStrictDeps ? StrictDepsMode.WARN : StrictDepsMode.OFF);
  return helper.buildCompilationArgsProvider(helper.build(javaSemantics));
}
