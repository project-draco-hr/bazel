{
  BuildConfigurationKey configurationKey=getBuildConfigurationKey(createBuildOptions(optionsProvider),ImmutableSortedSet.<String>of());
  boolean keepGoing=optionsProvider.getOptions(BuildView.Options.class).keepGoing;
  LoadedPackageProvider loadedPackageProvider=loadingPhaseRunner.loadForConfigurations(reporter,ImmutableSet.copyOf(configurationKey.getLabelsToLoadUnconditionally().values()),keepGoing);
  if (loadedPackageProvider == null) {
    throw new InvalidConfigurationException("Configuration creation failed");
  }
  return skyframeExecutor.createConfigurations(keepGoing,configurationFactory,configurationKey);
}
