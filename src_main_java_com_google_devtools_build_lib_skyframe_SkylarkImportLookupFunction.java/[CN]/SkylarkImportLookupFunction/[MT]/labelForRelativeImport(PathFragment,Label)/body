{
  PackageIdentifier pkgIdForImport=containingFileLabel.getPackageIdentifier();
  PathFragment containingDirInPkg=(new PathFragment(containingFileLabel.getName())).getParentDirectory();
  String targetNameForImport=containingDirInPkg.getRelative(importPath).toString();
  try {
    return Label.create(pkgIdForImport,targetNameForImport);
  }
 catch (  LabelSyntaxException e) {
    throw new SkylarkImportFailedException(e);
  }
}
