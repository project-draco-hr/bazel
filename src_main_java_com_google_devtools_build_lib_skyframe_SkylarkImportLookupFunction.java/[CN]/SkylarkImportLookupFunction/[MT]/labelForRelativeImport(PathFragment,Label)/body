{
  PackageIdentifier pkgIdForImport=containingFileLabel.getPackageIdentifier();
  PathFragment containingDir=(new PathFragment(containingFileLabel.getName())).getParentDirectory();
  String targetNameForImport=importPath.getRelative(containingDir).toString();
  try {
    return Label.create(pkgIdForImport,targetNameForImport);
  }
 catch (  LabelSyntaxException e) {
    throw new SkylarkImportFailedException(e);
  }
}
