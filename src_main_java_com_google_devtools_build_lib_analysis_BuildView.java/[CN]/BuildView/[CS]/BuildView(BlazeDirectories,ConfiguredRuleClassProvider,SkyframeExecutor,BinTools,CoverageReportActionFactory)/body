{
  this.directories=directories;
  this.packageManager=skyframeExecutor.getPackageManager();
  this.binTools=binTools;
  this.coverageReportActionFactory=coverageReportActionFactory;
  this.artifactFactory=new ArtifactFactory(directories.getExecRoot());
  this.ruleClassProvider=ruleClassProvider;
  this.skyframeExecutor=Preconditions.checkNotNull(skyframeExecutor);
  this.skyframeBuildView=new SkyframeBuildView(new ConfiguredTargetFactory(ruleClassProvider),artifactFactory,skyframeExecutor,new Runnable(){
    @Override public void run(){
      clear();
    }
  }
,binTools,ruleClassProvider);
  skyframeExecutor.setSkyframeBuildView(skyframeBuildView);
}
