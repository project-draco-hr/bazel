{
  ProjectFileSupport.handleProjectFiles(runtime,optionsParser,"test");
  TestOutputFormat testOutput=optionsParser.getOptions(ExecutionOptions.class).testOutput;
  try {
    if (testOutput == TestStrategy.TestOutputFormat.STREAMED) {
      runtime.getReporter().handle(Event.warn("Streamed test output requested so all tests will be run locally, without sharding, " + "one at a time"));
      optionsParser.parse(OptionPriority.SOFTWARE_REQUIREMENT,"streamed output requires locally run tests, without sharding",ImmutableList.of("--test_sharding_strategy=disabled","--test_strategy=exclusive"));
    }
    if (optionsParser.getOptions(BuildConfiguration.Options.class).collectCodeCoverage) {
      optionsParser.parse(OptionPriority.SOFTWARE_REQUIREMENT,"baseline coverage artifacts are built with running tests with coverage collection",ImmutableList.of("--output_groups=" + OutputGroupProvider.BASELINE_COVERAGE));
    }
  }
 catch (  OptionsParsingException e) {
    throw new IllegalStateException("Known options failed to parse",e);
  }
}
