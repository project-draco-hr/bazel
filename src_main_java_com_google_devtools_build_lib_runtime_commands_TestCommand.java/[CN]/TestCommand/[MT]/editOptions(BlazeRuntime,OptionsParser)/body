{
  ProjectFileSupport.handleProjectFiles(runtime,optionsParser,"test");
  TestOutputFormat testOutput=optionsParser.getOptions(ExecutionOptions.class).testOutput;
  if (testOutput == TestStrategy.TestOutputFormat.STREAMED) {
    runtime.getReporter().handle(Event.warn("Streamed test output requested so all tests will be run locally, without sharding, " + "one at a time"));
    try {
      optionsParser.parse(OptionPriority.SOFTWARE_REQUIREMENT,"streamed output requires locally run tests, without sharding",ImmutableList.of("--test_sharding_strategy=disabled","--test_strategy=exclusive"));
    }
 catch (    OptionsParsingException e) {
      throw new IllegalStateException("Known options failed to parse",e);
    }
  }
}
