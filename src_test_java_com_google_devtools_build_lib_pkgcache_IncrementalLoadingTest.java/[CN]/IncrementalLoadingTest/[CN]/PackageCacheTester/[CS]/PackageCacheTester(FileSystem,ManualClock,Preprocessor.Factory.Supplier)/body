{
  this.clock=clock;
  workspace=fs.getPath("/workspace");
  workspace.createDirectory();
  outputBase=fs.getPath("/output_base");
  outputBase.createDirectory();
  addFile("WORKSPACE");
  skyframeExecutor=SequencedSkyframeExecutor.create(new PackageFactory(TestRuleClassProvider.getRuleClassProvider()),new TimestampGranularityMonitor(BlazeClock.instance()),new BlazeDirectories(fs.getPath("/install"),fs.getPath("/output"),workspace),null,null,TestRuleClassProvider.getRuleClassProvider().getBuildInfoFactories(),ImmutableList.<DiffAwareness.Factory>of(),Predicates.<PathFragment>alwaysFalse(),supplier,ImmutableMap.<SkyFunctionName,SkyFunction>of(),ImmutableList.<PrecomputedValue.Injected>of(),ImmutableList.<SkyValueDirtinessChecker>of());
  skyframeExecutor.preparePackageLoading(new PathPackageLocator(outputBase,ImmutableList.of(workspace)),ConstantRuleVisibility.PUBLIC,true,7,"",UUID.randomUUID());
}
