{
  JavaSourceInfoProvider sourceInfoProvider=base.getProvider(JavaSourceInfoProvider.class);
  if (sourceInfoProvider == null) {
    return ImmutableList.of();
  }
  AndroidIdeInfoProvider androidIdeInfoProvider=base.getProvider(AndroidIdeInfoProvider.class);
  if (androidIdeInfoProvider == null) {
    return sourceInfoProvider.getSourceFiles();
  }
  ImmutableList.Builder<Artifact> builder=ImmutableList.builder();
  Collection<Artifact> idlGeneratedJavaFiles=androidIdeInfoProvider.getIdlGeneratedJavaFiles();
  for (  Artifact artifact : sourceInfoProvider.getSourceFiles()) {
    if (!idlGeneratedJavaFiles.contains(artifact)) {
      builder.add(artifact);
    }
  }
  return builder.build();
}
