{
  JavaRuleIdeInfo.Builder builder=JavaRuleIdeInfo.newBuilder();
  JavaRuleOutputJarsProvider outputJarsProvider=base.getProvider(JavaRuleOutputJarsProvider.class);
  if (outputJarsProvider != null) {
    collectJarsFromOutputJarsProvider(builder,outputJarsProvider);
  }
 else {
    JavaSourceInfoProvider provider=base.getProvider(JavaSourceInfoProvider.class);
    if (provider != null) {
      collectJarsFromSourceInfoProvider(builder,provider);
    }
  }
  Collection<Artifact> sourceFiles=getSources(base);
  for (  Artifact sourceFile : sourceFiles) {
    builder.addSources(makeArtifactLocation(sourceFile));
  }
  return builder.build();
}
