{
  Options options=buildOptions.get(Options.class);
  Label sdk=RedirectChaser.followRedirects(env,options.sdk,"android_sdk");
  Label incrementalStubApplication=RedirectChaser.followRedirects(env,AndroidRuleClasses.DEFAULT_INCREMENTAL_STUB_APPLICATION,"android_incremental_stub_application");
  Label incrementalSplitStubApplication=RedirectChaser.followRedirects(env,AndroidRuleClasses.DEFAULT_INCREMENTAL_SPLIT_STUB_APPLICATION,"android_incremental_split_stub_application");
  Label resourcesProcessor=RedirectChaser.followRedirects(env,AndroidRuleClasses.DEFAULT_RESOURCES_PROCESSOR,"android_resources_processor");
  Label aarGenerator=RedirectChaser.followRedirects(env,AndroidRuleClasses.DEFAULT_AAR_GENERATOR,"android_aar_generator");
  if (incrementalStubApplication == null) {
    return null;
  }
  return new AndroidConfiguration(options,sdk,incrementalStubApplication,incrementalSplitStubApplication,resourcesProcessor,aarGenerator);
}
