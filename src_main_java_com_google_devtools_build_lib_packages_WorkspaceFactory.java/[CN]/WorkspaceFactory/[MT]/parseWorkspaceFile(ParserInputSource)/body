{
  this.source=source;
  buildFileAST=BuildFileAST.parseBuildFile(source,localReporter,false);
  if (buildFileAST.containsErrors()) {
    environmentBuilder=null;
    throw new IOException("WORKSPACE file could not be parsed");
  }
  environmentBuilder=Environment.builder(mutability).setGlobals(Environment.BUILD).setEventHandler(localReporter);
}
