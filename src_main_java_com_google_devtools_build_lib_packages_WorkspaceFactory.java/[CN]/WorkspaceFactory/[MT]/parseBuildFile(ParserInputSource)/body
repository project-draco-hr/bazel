{
  this.source=source;
  buildFileAST=BuildFileAST.parseBuildFile(source,localReporter,false);
  if (buildFileAST.containsErrors()) {
    environmentBuilder=null;
    localReporter.handle(Event.error("WORKSPACE file could not be parsed"));
  }
 else {
    environmentBuilder=Environment.builder(mutability).setGlobals(Environment.BUILD).setEventHandler(localReporter);
  }
}
