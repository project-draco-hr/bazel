{
  if (file.getFileName().endsWith("R.java") || file.getFileName().endsWith("Manifest.java")) {
    byte[] content=Files.readAllBytes(file);
    if (staticIds && file.getFileName().endsWith("R.java")) {
      content=replaceIdsWithStaticIds(UTF_8.decode(ByteBuffer.wrap(content)).toString()).getBytes(UTF_8);
    }
    ZipEntry entry=new ZipEntry(root.relativize(file).toString());
    entry.setMethod(ZipEntry.STORED);
    entry.setTime(ZIP_EPOCH);
    entry.setSize(content.length);
    CRC32 crc32=new CRC32();
    crc32.update(content);
    entry.setCrc(crc32.getValue());
    zip.putNextEntry(entry);
    zip.write(content);
    zip.closeEntry();
  }
  return FileVisitResult.CONTINUE;
}
