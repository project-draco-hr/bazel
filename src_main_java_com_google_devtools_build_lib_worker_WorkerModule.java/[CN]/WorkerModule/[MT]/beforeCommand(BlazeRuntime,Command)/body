{
  this.blazeRuntime=Preconditions.checkNotNull(blazeRuntime);
  blazeRuntime.getEventBus().register(this);
  if (workers == null) {
    Path logDir=blazeRuntime.getOutputBase().getRelative("worker-logs");
    try {
      logDir.createDirectory();
    }
 catch (    IOException e) {
      blazeRuntime.getReporter().handle(Event.error("Could not create directory for worker logs: " + logDir));
    }
    GenericKeyedObjectPoolConfig config=new GenericKeyedObjectPoolConfig();
    config.setTimeBetweenEvictionRunsMillis(10 * 1000);
    workers=new WorkerPool(new WorkerFactory(),config);
    workers.setReporter(blazeRuntime.getReporter());
    workers.setLogDirectory(logDir);
  }
}
