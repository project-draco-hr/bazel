{
  NodeEntry entry=new NodeEntry();
  SkyKey parent=key("parent");
  assertEquals(DependencyState.NEEDS_SCHEDULING,entry.addReverseDepAndCheckIfDone(parent));
  try {
    entry.addReverseDepAndCheckIfDone(parent);
    entry.getReverseDeps();
    fail("Cannot add same dep twice in one build, even if dirty");
  }
 catch (  IllegalStateException e) {
  }
}
