{
  this.platformSetRegexps=platformSetRegexps;
  this.ruleFactory=new RuleFactory(ruleClassProvider);
  this.ruleClassProvider=ruleClassProvider;
  globalEnv=newGlobalEnvironment();
  threadPool=new ThreadPoolExecutor(100,100,3L,TimeUnit.SECONDS,new LinkedBlockingQueue<Runnable>(),new ThreadFactoryBuilder().setNameFormat("Legacy globber %d").build());
  threadPool.allowCoreThreadTimeOut(true);
  this.environmentExtensions=ImmutableList.copyOf(environmentExtensions);
  this.packageArguments=createPackageArguments();
}
