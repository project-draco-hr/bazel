{
  IntermediateArtifacts intermediateArtifacts=ObjcRuleClasses.intermediateArtifacts(ruleContext);
  for (  Artifact original : objcProvider.get(ObjcProvider.XIB)) {
    Artifact zipOutput=intermediateArtifacts.compiledXibFileZip(original);
    String archiveRoot=BundleableFile.flatBundlePath(FileSystemUtils.replaceExtension(original.getExecPath(),".nib"));
    ruleContext.registerAction(ObjcRuleClasses.spawnOnDarwinActionBuilder(ruleContext).setMnemonic("XibCompile").setExecutable(attributes.ibtoolwrapper()).setCommandLine(ibActionsCommandLine(archiveRoot,zipOutput,original)).addOutput(zipOutput).addInput(original).addInput(attributes.realpath()).build(ruleContext));
  }
}
