{
  RuleContext ruleContext=createDummyRuleContext();
  Builder builder=new CppLinkAction.Builder(ruleContext,new Artifact(new PathFragment(outputPath),getTargetConfiguration().getBinDirectory()),ruleContext.getConfiguration(),null).addNonLibraryInputs(nonLibraryInputs).addLibraries(NestedSetBuilder.wrap(Order.LINK_ORDER,libraryInputs)).setLinkType(type).setCrosstoolInputs(NestedSetBuilder.<Artifact>emptySet(Order.STABLE_ORDER)).setLinkStaticness(type.isStaticLibraryLink() ? LinkStaticness.FULLY_STATIC : LinkStaticness.MOSTLY_STATIC);
  return builder;
}
