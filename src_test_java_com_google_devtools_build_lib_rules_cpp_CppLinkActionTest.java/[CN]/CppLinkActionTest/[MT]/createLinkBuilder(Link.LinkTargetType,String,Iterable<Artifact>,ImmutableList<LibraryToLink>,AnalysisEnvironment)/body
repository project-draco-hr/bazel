{
  Builder builder=CppLinkAction.Builder.createTestBuilder(NULL_ACTION_OWNER,analysisEnv,new Artifact(new PathFragment(outputPath),getTargetConfiguration().getBinDirectory()),getTargetConfiguration()).addNonLibraryInputs(nonLibraryInputs).addLibraries(NestedSetBuilder.wrap(Order.LINK_ORDER,libraryInputs)).setLinkType(type).setCrosstoolInputs(NestedSetBuilder.<Artifact>emptySet(Order.STABLE_ORDER)).setLinkStaticness(type.isStaticLibraryLink() ? LinkStaticness.FULLY_STATIC : LinkStaticness.MOSTLY_STATIC);
  return builder;
}
