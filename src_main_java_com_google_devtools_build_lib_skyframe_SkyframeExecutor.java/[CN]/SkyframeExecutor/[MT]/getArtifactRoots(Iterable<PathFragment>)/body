{
  final List<SkyKey> packageKeys=new ArrayList<>();
  for (  PathFragment execPath : execPaths) {
    Preconditions.checkArgument(!execPath.isAbsolute(),execPath);
    packageKeys.add(ContainingPackageLookupValue.key(PackageIdentifier.createInDefaultRepo(execPath)));
  }
  EvaluationResult<ContainingPackageLookupValue> result;
  try {
    result=callUninterruptibly(new Callable<EvaluationResult<ContainingPackageLookupValue>>(){
      @Override public EvaluationResult<ContainingPackageLookupValue> call() throws InterruptedException {
synchronized (valueLookupLock) {
          return buildDriver.evaluate(packageKeys,true,1,reporter);
        }
      }
    }
);
  }
 catch (  Exception e) {
    throw new IllegalStateException(e);
  }
  Map<PathFragment,Root> roots=new HashMap<>();
  for (  PathFragment execPath : execPaths) {
    ContainingPackageLookupValue value=result.get(ContainingPackageLookupValue.key(PackageIdentifier.createInDefaultRepo(execPath)));
    if (value.hasContainingPackage()) {
      roots.put(execPath,Root.asSourceRoot(value.getContainingPackageRoot()));
    }
 else {
      roots.put(execPath,null);
    }
  }
  return roots;
}
