{
  Path outputDirectory=prepareLocalRepositorySymlinkTree(rule,env);
  PathFragment pathFragment=getTargetPath(rule);
  if (!symlinkLocalRepositoryContents(outputDirectory,getOutputBase().getFileSystem().getPath(pathFragment),env)) {
    return null;
  }
  return symlinkBuildFile(rule,outputDirectory,env);
}
