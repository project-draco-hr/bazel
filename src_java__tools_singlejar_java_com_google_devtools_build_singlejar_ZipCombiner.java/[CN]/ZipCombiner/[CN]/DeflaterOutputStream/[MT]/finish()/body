{
  checkNotFinished();
  deflater.finish();
  while (!deflater.finished()) {
    deflate();
  }
  if ((compressedBytes >= MAXIMUM_DATA_SIZE) || (uncompressedBytes >= MAXIMUM_DATA_SIZE)) {
    throw new IOException("Too much data for ZIP entry.");
  }
}
