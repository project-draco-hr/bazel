{
  new SkylarkTest().setUp("def foo():","  d = {'a': 1, 'b': 2, 'c': 3}","  s = ''","  for k in d:","    s = s + k","    if k == 'a':","      d.pop('a')","      d.pop('b')","    d.update({'d': 4})","  return s","s = foo()").testLookup("s","abc");
}
