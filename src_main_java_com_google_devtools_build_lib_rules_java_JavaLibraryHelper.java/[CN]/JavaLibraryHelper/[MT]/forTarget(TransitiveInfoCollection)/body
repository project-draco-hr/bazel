{
  if (target.getProvider(JavaCompilationArgsProvider.class) != null) {
    return target.getProvider(JavaCompilationArgsProvider.class);
  }
 else {
    NestedSet<Artifact> filesToBuild=target.getProvider(FileProvider.class).getFilesToBuild();
    final List<Artifact> jars=new ArrayList<>();
    Iterables.addAll(jars,FileType.filter(filesToBuild,JavaSemantics.JAR));
    JavaCompilationArgs args=JavaCompilationArgs.builder().addCompileTimeJars(jars).addRuntimeJars(jars).build();
    return new JavaCompilationArgsProvider(args,args);
  }
}
