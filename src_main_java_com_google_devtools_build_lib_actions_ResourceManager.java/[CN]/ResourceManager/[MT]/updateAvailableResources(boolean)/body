{
  Preconditions.checkNotNull(staticResources);
  if (useFreeReading && isAutoSensingEnabled()) {
    availableResources=ResourceSet.createWithRamCpuIo(usedRam + freeReading.getFreeMb(),usedCpu + freeReading.getAvgFreeCpu(),staticResources.getIoUsage());
    if (FINE) {
      LOG.fine("Free resources: " + Math.round(freeReading.getFreeMb()) + " MB,"+ Math.round(freeReading.getAvgFreeCpu() * 100)+ "% CPU");
    }
    processWaitingThreads();
  }
 else {
    availableResources=ResourceSet.createWithRamCpuIo(staticResources.getMemoryMb() * this.ramUtilizationPercentage / 100.0,staticResources.getCpuUsage(),staticResources.getIoUsage());
    processWaitingThreads();
  }
}
