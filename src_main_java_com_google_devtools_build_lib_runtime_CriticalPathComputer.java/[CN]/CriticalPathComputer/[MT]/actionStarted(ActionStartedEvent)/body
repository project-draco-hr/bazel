{
  Action action=event.getAction();
  C component=createComponent(action,TimeUnit.NANOSECONDS.toMillis(event.getNanoTimeStart()));
  for (  Artifact output : action.getOutputs()) {
    C old=outputArtifactToComponent.put(output,component);
    Preconditions.checkState(old == null,"Duplicate output artifact found. This could happen" + " if a previous event registered the action %s. Artifact: %s",action,output);
  }
}
