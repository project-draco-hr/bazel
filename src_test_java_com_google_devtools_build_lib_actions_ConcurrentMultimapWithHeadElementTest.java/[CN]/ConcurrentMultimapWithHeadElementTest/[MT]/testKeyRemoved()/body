{
  String key=new String("key");
  ConcurrentMultimapWithHeadElement<String,String> multimap=new ConcurrentMultimapWithHeadElement<String,String>();
  assertEquals("val",multimap.putAndGet(key,"val"));
  WeakReference<String> weakKey=new WeakReference<String>(key);
  multimap.remove(key,"val");
  key=null;
  GcFinalization.awaitClear(weakKey);
}
