{
  Map<FullyQualifiedName,DataResource> overwritingResourceMap=new HashMap<>();
  Set<MergeConflict> conflicts=new HashSet<>();
  for (  DataResource resource : data.getOverwritingResources()) {
    if (overwritingResourceMap.containsKey(resource.fullyQualifiedName())) {
      conflicts.add(MergeConflict.between(resource.fullyQualifiedName(),overwritingResourceMap.get(resource.fullyQualifiedName()),resource));
    }
    overwritingResourceMap.put(resource.fullyQualifiedName(),resource);
  }
  Map<FullyQualifiedName,DataResource> nonOverwritingResourceMap=new HashMap<>();
  for (  DataResource resource : data.getNonOverwritingResources()) {
    nonOverwritingResourceMap.put(resource.fullyQualifiedName(),resource);
  }
  return new ResourceMap(overwritingResourceMap,conflicts,nonOverwritingResourceMap);
}
