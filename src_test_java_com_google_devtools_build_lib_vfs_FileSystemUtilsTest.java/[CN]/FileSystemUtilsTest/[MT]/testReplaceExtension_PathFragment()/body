{
  assertPath("foo/bar.baz",FileSystemUtils.replaceExtension(new PathFragment("foo/bar"),".baz"));
  assertPath("foo/bar.baz",FileSystemUtils.replaceExtension(new PathFragment("foo/bar.cc"),".baz"));
  assertPath("/foo/bar.baz",FileSystemUtils.replaceExtension(new PathFragment("/foo/bar"),".baz"));
  assertPath("/foo/bar.baz",FileSystemUtils.replaceExtension(new PathFragment("/foo/bar.cc"),".baz"));
  assertPath("foo.baz",FileSystemUtils.replaceExtension(new PathFragment("foo/"),".baz"));
  assertPath("foo.baz",FileSystemUtils.replaceExtension(new PathFragment("foo.cc/"),".baz"));
  assertPath("/foo.baz",FileSystemUtils.replaceExtension(new PathFragment("/foo/"),".baz"));
  assertPath("/foo.baz",FileSystemUtils.replaceExtension(new PathFragment("/foo.cc/"),".baz"));
  assertPath("foo.baz",FileSystemUtils.replaceExtension(new PathFragment("foo"),".baz"));
  assertPath("foo.baz",FileSystemUtils.replaceExtension(new PathFragment("foo.cc"),".baz"));
  assertPath("/foo.baz",FileSystemUtils.replaceExtension(new PathFragment("/foo"),".baz"));
  assertPath("/foo.baz",FileSystemUtils.replaceExtension(new PathFragment("/foo.cc"),".baz"));
  assertPath(".baz",FileSystemUtils.replaceExtension(new PathFragment(".cc"),".baz"));
  assertEquals(null,FileSystemUtils.replaceExtension(new PathFragment("/"),".baz"));
  assertEquals(null,FileSystemUtils.replaceExtension(new PathFragment(""),".baz"));
  assertPath("foo/bar.baz",FileSystemUtils.replaceExtension(new PathFragment("foo/bar.pony"),".baz",".pony"));
  assertPath("foo/bar.baz",FileSystemUtils.replaceExtension(new PathFragment("foo/bar"),".baz",""));
  assertEquals(null,FileSystemUtils.replaceExtension(new PathFragment(""),".baz",".pony"));
  assertEquals(null,FileSystemUtils.replaceExtension(new PathFragment("foo/bar.pony"),".baz",".unicorn"));
}
