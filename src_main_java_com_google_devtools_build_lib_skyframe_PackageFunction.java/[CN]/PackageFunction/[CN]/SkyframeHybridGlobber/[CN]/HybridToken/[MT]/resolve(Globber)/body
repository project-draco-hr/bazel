{
  LinkedHashSet<String> matches=Sets.newLinkedHashSet();
  for (  SkyKey includeGlobKey : includesGlobKeys) {
    for (    PathFragment match : getGlobMatches(includeGlobKey,globValueMap)) {
      matches.add(match.getPathString());
    }
  }
  matches.addAll(delegate.fetch(delegateIncludesToken));
  for (  SkyKey excludeGlobKey : excludesGlobKeys) {
    for (    PathFragment match : getGlobMatches(excludeGlobKey,globValueMap)) {
      matches.remove(match.getPathString());
    }
  }
  for (  String delegateExcludeMatch : delegate.fetch(delegateExcludesToken)) {
    matches.remove(delegateExcludeMatch);
  }
  return Lists.newArrayList(matches);
}
