{
  return builder.add(attr("srcs",LABEL_LIST).direct_compile_time_input().allowedFileTypes(JavaSemantics.JAVA_SOURCE,JavaSemantics.SOURCE_JAR)).override(builder.copy("deps").cfg(ANDROID_SPLIT_TRANSITION).allowedRuleClasses(ALLOWED_DEPENDENCIES).allowedFileTypes().aspect(AndroidNeverlinkAspect.class).aspect(JackAspect.class)).add(attr("$build_incremental_dexmanifest",LABEL).cfg(HOST).exec().value(env.getLabel(AndroidRuleClasses.BUILD_INCREMENTAL_DEXMANIFEST_LABEL))).add(attr("$stubify_manifest",LABEL).cfg(HOST).exec().value(env.getLabel(AndroidRuleClasses.STUBIFY_MANIFEST_LABEL))).add(attr("$shuffle_jars",LABEL).cfg(HOST).exec().value(env.getLabel(Constants.TOOLS_REPOSITORY + "//tools/android:shuffle_jars"))).add(attr("$merge_dexzips",LABEL).cfg(HOST).exec().value(env.getLabel(Constants.TOOLS_REPOSITORY + "//tools/android:merge_dexzips"))).add(attr("$incremental_install",LABEL).cfg(HOST).exec().value(env.getLabel(INCREMENTAL_INSTALL_LABEL))).add(attr("$build_split_manifest",LABEL).cfg(HOST).exec().value(env.getLabel(BUILD_SPLIT_MANIFEST_LABEL))).add(attr("$strip_resources",LABEL).cfg(HOST).exec().value(env.getLabel(AndroidRuleClasses.STRIP_RESOURCES_LABEL))).add(attr("$incremental_stub_application",LABEL).value(DEFAULT_INCREMENTAL_STUB_APPLICATION)).add(attr("$incremental_split_stub_application",LABEL).value(DEFAULT_INCREMENTAL_SPLIT_STUB_APPLICATION)).add(attr("dexopts",STRING_LIST)).add(attr("dex_shards",INTEGER).value(1)).add(attr("main_dex_list_opts",STRING_LIST)).add(attr("main_dex_list",LABEL).legacyAllowAnyFileType()).add(attr("main_dex_proguard_specs",LABEL_LIST).legacyAllowAnyFileType()).add(attr("proguard_specs",LABEL_LIST).legacyAllowAnyFileType()).add(attr("proguard_generate_mapping",BOOLEAN).value(false).nonconfigurable("value is referenced in an ImplicitOutputsFunction")).add(attr("proguard_apply_mapping",LABEL).legacyAllowAnyFileType()).add(attr("legacy_native_support",TRISTATE).value(TriState.AUTO)).add(attr(":extra_proguard_specs",LABEL_LIST).value(JavaSemantics.EXTRA_PROGUARD_SPECS)).advertiseProvider(JavaCompilationArgsProvider.class).build();
}
