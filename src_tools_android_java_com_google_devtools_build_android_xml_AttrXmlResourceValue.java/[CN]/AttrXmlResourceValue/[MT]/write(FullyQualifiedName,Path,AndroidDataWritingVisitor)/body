{
  ImmutableList<String> formatKeys=Ordering.natural().immutableSortedCopy(formats.keySet());
  FluentIterable<String> iterable=FluentIterable.from(ImmutableList.of(String.format("<!-- %s -->",source),formatKeys.isEmpty() ? String.format("<attr name='%s'>",key.name()) : String.format("<attr name='%s' format='%s'>",key.name(),Joiner.on('|').join(formatKeys))));
  for (  String formatKey : formatKeys) {
    iterable=formats.get(formatKey).appendTo(iterable);
  }
  mergedDataWriter.writeToValuesXml(key,iterable.append("</attr>"));
}
