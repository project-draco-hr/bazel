{
  if (getSysroot() != null && !getSysroot().isAbsolute()) {
    Root sysrootRoot;
    try {
      sysrootRoot=Iterables.getOnlyElement(resolver.findPackageRootsForFiles(ImmutableList.of(getSysroot().getChild("dummy_child"))).entrySet()).getValue();
    }
 catch (    PackageRootResolutionException prre) {
      throw new ViewCreationFailedException("Failed to determine sysroot",prre);
    }
    PathFragment sysrootExecPath=sysroot.getRelative(BUILT_IN_INCLUDE_PATH_FRAGMENT);
    if (sysrootRoot.getPath().getRelative(sysrootExecPath).exists()) {
      builtInIncludeFile=Preconditions.checkNotNull(artifactFactory.getSourceArtifact(sysrootExecPath,sysrootRoot),"%s %s",sysrootRoot,sysroot);
    }
  }
  try {
    getFdoSupport().prepareToBuild(execRoot,artifactFactory,resolver);
  }
 catch (  ZipException e) {
    throw new ViewCreationFailedException("Error reading provided FDO zip file",e);
  }
catch (  FdoException|IOException|PackageRootResolutionException e) {
    throw new ViewCreationFailedException("Error while initializing FDO support",e);
  }
}
