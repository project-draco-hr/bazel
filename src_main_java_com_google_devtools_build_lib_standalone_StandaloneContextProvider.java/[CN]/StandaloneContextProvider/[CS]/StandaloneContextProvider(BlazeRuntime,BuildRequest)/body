{
  boolean verboseFailures=buildRequest.getOptions(ExecutionOptions.class).verboseFailures;
  localSpawnStrategy=new LocalSpawnStrategy(runtime.getDirectories().getExecRoot(),verboseFailures);
  this.runtime=runtime;
  TestActionContext testStrategy=new StandaloneTestStrategy(buildRequest,runtime.getStartupOptionsProvider(),runtime.getBinTools());
  Builder<ActionContext> strategiesBuilder=ImmutableList.builder();
  if (OS.getCurrent() == OS.LINUX) {
    LinuxSandboxedStrategy sandboxedLinuxStrategy=new LinuxSandboxedStrategy(runtime.getDirectories(),verboseFailures);
    strategiesBuilder.add(sandboxedLinuxStrategy);
  }
  strategiesBuilder.add(localSpawnStrategy,new DummyIncludeScanningContext(),new LocalLinkStrategy(),testStrategy,new ExclusiveTestStrategy(testStrategy),new LocalGccStrategy(buildRequest),new FileWriteStrategy());
  this.strategies=strategiesBuilder.build();
}
