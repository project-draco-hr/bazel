{
  if (scopingLabel.isPresent()) {
    return ruleContext.getUniqueDirectoryArtifact("_intermediate_scoped",scopingLabel.get().getPackageIdentifier().getPathFragment().getRelative(scopingLabel.get().getName()).getRelative(scopeRelative),ruleContext.getConfiguration().getBinDirectory());
  }
 else {
    return ruleContext.getPackageRelativeArtifact(scopeRelative,ruleContext.getConfiguration().getBinDirectory());
  }
}
