{
  this.objectFiles=ImmutableSet.copyOf(builder.getObjectFiles());
  this.nonCodeInputs=ImmutableSet.copyOf(builder.getNonCodeInputs());
  this.libraries=NestedSetBuilder.<LibraryToLink>linkOrder().addTransitive(builder.getLibraries().build()).build();
  this.crosstoolInputs=NestedSetBuilder.<Artifact>stableOrder().addTransitive(builder.getCrosstoolInputs()).build();
  this.runtimeMiddleman=builder.getRuntimeMiddleman();
  this.runtimeInputs=NestedSetBuilder.<Artifact>stableOrder().addTransitive(builder.getRuntimeInputs()).build();
  this.runtimeType=builder.getRuntimeType();
  this.compilationInputs=NestedSetBuilder.<Artifact>stableOrder().addTransitive(builder.getCompilationInputs().build()).build();
  this.linkstamps=ImmutableSet.copyOf(builder.getLinkstamps());
  this.linkopts=ImmutableList.copyOf(builder.getLinkopts());
  this.linkType=builder.getLinkType();
  this.linkStaticness=builder.getLinkStaticness();
  this.fake=builder.isFake();
  this.isNativeDeps=builder.isNativeDeps();
  this.useTestOnlyFlags=builder.useTestOnlyFlags();
}
