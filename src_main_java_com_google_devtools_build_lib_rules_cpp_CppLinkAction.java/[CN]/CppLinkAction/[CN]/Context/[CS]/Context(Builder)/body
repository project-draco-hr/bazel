{
  this.nonLibraries=ImmutableSet.copyOf(builder.nonLibraries);
  this.libraries=NestedSetBuilder.<LibraryToLink>linkOrder().addTransitive(builder.libraries.build()).build();
  this.crosstoolInputs=NestedSetBuilder.<Artifact>stableOrder().addTransitive(builder.crosstoolInputs).build();
  this.runtimeMiddleman=builder.runtimeMiddleman;
  this.runtimeInputs=NestedSetBuilder.<Artifact>stableOrder().addTransitive(builder.runtimeInputs).build();
  this.compilationInputs=NestedSetBuilder.<Artifact>stableOrder().addTransitive(builder.compilationInputs.build()).build();
  this.linkstamps=ImmutableSet.copyOf(builder.linkstamps);
  this.linkopts=ImmutableList.copyOf(builder.linkopts);
  this.linkType=builder.linkType;
  this.linkStaticness=builder.linkStaticness;
  this.fake=builder.fake;
  this.isNativeDeps=builder.isNativeDeps;
  this.useTestOnlyFlags=builder.useTestOnlyFlags;
}
