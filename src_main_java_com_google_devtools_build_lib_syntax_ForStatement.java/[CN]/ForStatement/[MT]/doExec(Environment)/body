{
  Object o=collection.eval(env);
  Iterable<?> col=EvalUtils.toIterable(o,getLocation());
  int i=0;
  for (  Object it : ImmutableList.copyOf(col)) {
    variable.assign(env,getLocation(),it);
    try {
      for (      Statement stmt : block) {
        stmt.exec(env);
      }
    }
 catch (    FlowException ex) {
      if (ex.mustTerminateLoop()) {
        return;
      }
    }
    i++;
  }
  if (i != EvalUtils.size(col)) {
    throw new EvalException(getLocation(),String.format("Cannot modify '%s' during during iteration.",collection.toString()));
  }
}
