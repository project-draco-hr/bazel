{
  Object objValue=obj.eval(env);
  String name=field.getName();
  Object result=eval(objValue,name,getLocation());
  if (result == null) {
    if (objValue instanceof ClassObject) {
      String customErrorMessage=((ClassObject)objValue).errorMessage(name);
      if (customErrorMessage != null) {
        throw new EvalException(getLocation(),customErrorMessage);
      }
    }
    throw new EvalException(getLocation(),String.format("Object of type '%s' has no field %s",EvalUtils.getDataTypeName(objValue),EvalUtils.prettyPrintValue(name)));
  }
  return result;
}
