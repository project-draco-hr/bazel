{
  int index=Type.INTEGER.convert(key,"index operand");
  if (index < 0) {
    index+=listSize;
  }
  if (index < 0 || index >= listSize) {
    throw new EvalException(loc,"List index out of range (index is " + index + ", but list has "+ listSize+ " elements)");
  }
  return index;
}
