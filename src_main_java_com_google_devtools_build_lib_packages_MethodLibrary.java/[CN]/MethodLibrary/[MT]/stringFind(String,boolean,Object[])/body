{
  String thiz=Type.STRING.convert(args[0],functionName + " operand");
  String sub=Type.STRING.convert(args[1],functionName + " argument");
  int start=0;
  if (args[2] != null) {
    start=Type.INTEGER.convert(args[2],functionName + " argument");
  }
  int end=thiz.length();
  if (args[3] != null) {
    end=Type.INTEGER.convert(args[3],functionName + " argument");
  }
  String substr=getPythonSubstring(thiz,start,end);
  int subpos=forward ? substr.indexOf(sub) : substr.lastIndexOf(sub);
  start=getClampedIndex(start,thiz.length());
  return subpos < 0 ? subpos : subpos + start;
}
