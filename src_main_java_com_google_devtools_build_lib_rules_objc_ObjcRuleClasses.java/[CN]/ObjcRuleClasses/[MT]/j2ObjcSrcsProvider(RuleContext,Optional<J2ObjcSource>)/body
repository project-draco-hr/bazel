{
  NestedSetBuilder<J2ObjcSource> builder=NestedSetBuilder.stableOrder();
  builder.addAll(currentSource.asSet());
  boolean hasProtos=currentSource.isPresent() && currentSource.get().getSourceType() == J2ObjcSource.SourceType.PROTO;
  for (  J2ObjcSrcsProvider provider : ruleContext.getPrerequisites("deps",Mode.TARGET,J2ObjcSrcsProvider.class)) {
    builder.addTransitive(provider.getSrcs());
    hasProtos|=provider.hasProtos();
  }
  return new J2ObjcSrcsProvider(builder.build(),hasProtos);
}
