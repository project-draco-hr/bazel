{
  List<String> iosMultiCpus=buildOptions.get(AppleCommandLineOptions.class).iosMultiCpus;
  ImmutableList.Builder<BuildOptions> splitBuildOptions=ImmutableList.builder();
  for (  String iosCpu : iosMultiCpus) {
    BuildOptions splitOptions=buildOptions.clone();
    splitOptions.get(AppleCommandLineOptions.class).iosMultiCpus=ImmutableList.of();
    splitOptions.get(AppleCommandLineOptions.class).applePlatformType=PlatformType.IOS;
    splitOptions.get(AppleCommandLineOptions.class).appleSplitCpu=iosCpu;
    splitOptions.get(AppleCommandLineOptions.class).iosCpu=iosCpu;
    if (splitOptions.get(ObjcCommandLineOptions.class).enableCcDeps) {
      splitOptions.get(BuildConfiguration.Options.class).cpu="ios_" + iosCpu;
    }
    splitOptions.get(AppleCommandLineOptions.class).configurationDistinguisher=ConfigurationDistinguisher.APPLEBIN_IOS;
    splitBuildOptions.add(splitOptions);
  }
  return splitBuildOptions.build();
}
