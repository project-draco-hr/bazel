{
  update();
  Label a=Label.parseAbsolute("//a");
  Label aExplicit=Label.parseAbsolute("//a:a");
  Label b=Label.parseAbsolute("//b");
  BuildConfiguration host=getHostConfiguration();
  BuildConfiguration target=getTargetConfiguration();
  AspectDescriptor simpleAspect=new AspectDescriptor(new NativeAspectClass<>(TestAspects.SimpleAspect.class));
  AspectDescriptor attributeAspect=new AspectDescriptor(new NativeAspectClass<>(TestAspects.AttributeAspect.class));
  AspectDescriptor errorAspect=new AspectDescriptor(new NativeAspectClass<>(TestAspects.ErrorAspect.class));
  ImmutableSet<AspectDescriptor> twoAspects=ImmutableSet.of(simpleAspect,attributeAspect);
  ImmutableSet<AspectDescriptor> inverseAspects=ImmutableSet.of(attributeAspect,simpleAspect);
  ImmutableSet<AspectDescriptor> differentAspects=ImmutableSet.of(attributeAspect,errorAspect);
  ImmutableSet<AspectDescriptor> noAspects=ImmutableSet.<AspectDescriptor>of();
  ImmutableMap<AspectDescriptor,BuildConfiguration> twoAspectsHostMap=ImmutableMap.of(simpleAspect,host,attributeAspect,host);
  ImmutableMap<AspectDescriptor,BuildConfiguration> twoAspectsTargetMap=ImmutableMap.of(simpleAspect,target,attributeAspect,target);
  ImmutableMap<AspectDescriptor,BuildConfiguration> differentAspectsHostMap=ImmutableMap.of(attributeAspect,host,errorAspect,host);
  ImmutableMap<AspectDescriptor,BuildConfiguration> differentAspectsTargetMap=ImmutableMap.of(attributeAspect,target,errorAspect,target);
  ImmutableMap<AspectDescriptor,BuildConfiguration> noAspectsMap=ImmutableMap.<AspectDescriptor,BuildConfiguration>of();
  new EqualsTester().addEqualityGroup(Dependency.withConfigurationAndAspects(a,host,twoAspects),Dependency.withConfigurationAndAspects(aExplicit,host,twoAspects),Dependency.withConfigurationAndAspects(a,host,inverseAspects),Dependency.withConfigurationAndAspects(aExplicit,host,inverseAspects),Dependency.withConfiguredAspects(a,host,twoAspectsHostMap),Dependency.withConfiguredAspects(aExplicit,host,twoAspectsHostMap)).addEqualityGroup(Dependency.withConfigurationAndAspects(b,host,twoAspects),Dependency.withConfigurationAndAspects(b,host,inverseAspects),Dependency.withConfiguredAspects(b,host,twoAspectsHostMap)).addEqualityGroup(Dependency.withConfigurationAndAspects(a,target,twoAspects),Dependency.withConfigurationAndAspects(aExplicit,target,twoAspects),Dependency.withConfigurationAndAspects(a,target,inverseAspects),Dependency.withConfigurationAndAspects(aExplicit,target,inverseAspects),Dependency.withConfiguredAspects(a,target,twoAspectsTargetMap),Dependency.withConfiguredAspects(aExplicit,target,twoAspectsTargetMap)).addEqualityGroup(Dependency.withNullConfiguration(a),Dependency.withNullConfiguration(aExplicit)).addEqualityGroup(Dependency.withConfigurationAndAspects(a,host,differentAspects),Dependency.withConfigurationAndAspects(aExplicit,host,differentAspects),Dependency.withConfiguredAspects(a,host,differentAspectsHostMap),Dependency.withConfiguredAspects(aExplicit,host,differentAspectsHostMap)).addEqualityGroup(Dependency.withConfigurationAndAspects(b,target,twoAspects),Dependency.withConfigurationAndAspects(b,target,inverseAspects),Dependency.withConfiguredAspects(b,target,twoAspectsTargetMap)).addEqualityGroup(Dependency.withNullConfiguration(b)).addEqualityGroup(Dependency.withConfigurationAndAspects(b,host,differentAspects),Dependency.withConfiguredAspects(b,host,differentAspectsHostMap)).addEqualityGroup(Dependency.withConfigurationAndAspects(a,target,differentAspects),Dependency.withConfigurationAndAspects(aExplicit,target,differentAspects),Dependency.withConfiguredAspects(a,target,differentAspectsTargetMap),Dependency.withConfiguredAspects(aExplicit,target,differentAspectsTargetMap)).addEqualityGroup(Dependency.withConfigurationAndAspects(b,target,differentAspects),Dependency.withConfiguredAspects(b,target,differentAspectsTargetMap)).addEqualityGroup(Dependency.withConfiguration(a,host),Dependency.withConfiguration(aExplicit,host),Dependency.withConfigurationAndAspects(a,host,noAspects),Dependency.withConfigurationAndAspects(aExplicit,host,noAspects),Dependency.withConfiguredAspects(a,host,noAspectsMap),Dependency.withConfiguredAspects(aExplicit,host,noAspectsMap)).addEqualityGroup(Dependency.withConfiguration(b,host),Dependency.withConfigurationAndAspects(b,host,noAspects),Dependency.withConfiguredAspects(b,host,noAspectsMap)).addEqualityGroup(Dependency.withConfiguration(a,target),Dependency.withConfiguration(aExplicit,target),Dependency.withConfigurationAndAspects(a,target,noAspects),Dependency.withConfigurationAndAspects(aExplicit,target,noAspects),Dependency.withConfiguredAspects(a,target,noAspectsMap),Dependency.withConfiguredAspects(aExplicit,target,noAspectsMap)).addEqualityGroup(Dependency.withConfiguration(b,target),Dependency.withConfigurationAndAspects(b,target,noAspects),Dependency.withConfiguredAspects(b,target,noAspectsMap)).addEqualityGroup(Dependency.withTransitionAndAspects(a,ConfigurationTransition.HOST,twoAspects),Dependency.withTransitionAndAspects(aExplicit,ConfigurationTransition.HOST,twoAspects),Dependency.withTransitionAndAspects(a,ConfigurationTransition.HOST,inverseAspects),Dependency.withTransitionAndAspects(aExplicit,ConfigurationTransition.HOST,inverseAspects)).addEqualityGroup(Dependency.withTransitionAndAspects(a,ConfigurationTransition.HOST,differentAspects),Dependency.withTransitionAndAspects(aExplicit,ConfigurationTransition.HOST,differentAspects)).addEqualityGroup(Dependency.withTransitionAndAspects(b,ConfigurationTransition.HOST,twoAspects),Dependency.withTransitionAndAspects(b,ConfigurationTransition.HOST,inverseAspects)).addEqualityGroup(Dependency.withTransitionAndAspects(b,ConfigurationTransition.HOST,differentAspects),Dependency.withTransitionAndAspects(b,ConfigurationTransition.HOST,differentAspects)).addEqualityGroup(Dependency.withTransitionAndAspects(a,ConfigurationTransition.NONE,twoAspects),Dependency.withTransitionAndAspects(aExplicit,ConfigurationTransition.NONE,twoAspects),Dependency.withTransitionAndAspects(a,ConfigurationTransition.NONE,inverseAspects),Dependency.withTransitionAndAspects(aExplicit,ConfigurationTransition.NONE,inverseAspects)).addEqualityGroup(Dependency.withTransitionAndAspects(a,ConfigurationTransition.NONE,differentAspects),Dependency.withTransitionAndAspects(aExplicit,ConfigurationTransition.NONE,differentAspects)).addEqualityGroup(Dependency.withTransitionAndAspects(b,ConfigurationTransition.NONE,twoAspects),Dependency.withTransitionAndAspects(b,ConfigurationTransition.NONE,inverseAspects)).addEqualityGroup(Dependency.withTransitionAndAspects(b,ConfigurationTransition.NONE,differentAspects),Dependency.withTransitionAndAspects(b,ConfigurationTransition.NONE,differentAspects)).testEquals();
}
