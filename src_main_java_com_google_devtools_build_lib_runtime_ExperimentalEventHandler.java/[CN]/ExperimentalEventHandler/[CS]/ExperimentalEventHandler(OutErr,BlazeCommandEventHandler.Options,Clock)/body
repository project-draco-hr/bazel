{
  super(outErr,options);
  this.cursorControl=options.useCursorControl();
  this.terminal=new AnsiTerminal(outErr.getErrorStream());
  this.terminalWidth=(options.terminalColumns > 0 ? options.terminalColumns : 80);
  this.clock=clock;
  this.debugAllEvents=options.experimentalUiDebugAllEvents;
  this.stateTracker=new ExperimentalStateTracker(clock);
  this.numLinesProgressBar=0;
  this.minimalDelayMillis=Math.round(options.showProgressRateLimit * 1000);
  this.minimalUpdateInterval=Math.max(this.minimalDelayMillis,MAXIMAL_UPDATE_DELAY_MILLIS);
  ignoreRefreshLimitOnce();
}
