{
  try {
    clearProgressBar();
    if (debugAllEvents) {
      terminal.flush();
      outErr.getOutputStream().write((event + "\n").getBytes(StandardCharsets.UTF_8));
      outErr.getOutputStream().flush();
    }
 else {
switch (event.getKind()) {
case STDOUT:
case STDERR:
        terminal.flush();
      OutputStream stream=event.getKind() == EventKind.STDOUT ? outErr.getOutputStream() : outErr.getErrorStream();
    stream.write(event.getMessageBytes());
  stream.write(new byte[]{10,13});
stream.flush();
break;
case ERROR:
case WARNING:
case INFO:
setEventKindColor(event.getKind());
terminal.writeString(event.getKind() + ": ");
terminal.resetTerminal();
if (event.getLocation() != null) {
terminal.writeString(event.getLocation() + ": ");
}
if (event.getMessage() != null) {
terminal.writeString(event.getMessage());
}
crlf();
break;
}
}
addProgressBar();
terminal.flush();
}
 catch (IOException e) {
LOG.warning("IO Error writing to output stream: " + e);
}
}
