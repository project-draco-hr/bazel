{
  JavaLibrary javaLibrary=new JavaLibrary(semantics);
  JavaCommon common=new JavaCommon(ruleContext,semantics);
  RuleConfiguredTargetBuilder builder=javaLibrary.init(ruleContext,common);
  if (builder == null) {
    return null;
  }
  builder.add(JavaPluginInfoProvider.class,new JavaPluginInfoProvider(getProcessorClasses(ruleContext),common.getRuntimeClasspath()));
  return builder.build();
}
