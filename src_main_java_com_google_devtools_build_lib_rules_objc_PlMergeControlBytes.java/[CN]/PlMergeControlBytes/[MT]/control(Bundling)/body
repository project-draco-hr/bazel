{
  PlMergeProtos.Control.Builder control=PlMergeProtos.Control.newBuilder().addAllSourceFile(Artifact.toExecPaths(bundling.getBundleInfoplistInputs())).setOutFile(mergedPlist.getExecPathString());
  if (bundling.getAutomaticInfoPlist() != null) {
    control.addImmutableSourceFile(bundling.getAutomaticInfoPlist().getExecPathString());
  }
  if (bundling.getPrimaryBundleId() != null) {
    control.setPrimaryBundleId(bundling.getPrimaryBundleId());
  }
  if (bundling.getFallbackBundleId() != null) {
    control.setFallbackBundleId(bundling.getFallbackBundleId());
  }
  if (bundling.variableSubstitutions() != null) {
    control.putAllVariableSubstitutionMap(bundling.variableSubstitutions());
  }
  control.setExecutableName(bundling.getName());
  return control.build();
}
