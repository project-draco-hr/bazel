{
  if (ruleContext.attributes().isAttributeValueExplicitlySpecified("application_id")) {
    return ruleContext.attributes().get("application_id",Type.STRING);
  }
  AndroidResourcesProvider resourcesProvider=AndroidCommon.getAndroidResources(ruleContext);
  if (resourcesProvider != null) {
    ResourceContainer resourceContainer=Iterables.getOnlyElement(resourcesProvider.getTransitiveAndroidResources());
    return resourceContainer.getRenameManifestPackage();
  }
 else {
    return null;
  }
}
