{
  if (!Iterables.isEmpty(getMergeeManifests(resourceContainers))) {
    Iterable<Artifact> exportedManifests=getMergeeManifests(resourceContainers);
    Artifact outputManifest=ruleContext.getUniqueDirectoryArtifact(ruleContext.getRule().getName() + "_merged","AndroidManifest.xml",ruleContext.getBinOrGenfilesDirectory());
    AndroidManifestMergeHelper.createMergeManifestAction(ruleContext,getManifest(),exportedManifests,ImmutableList.of("all"),outputManifest);
    return new ApplicationManifest(outputManifest);
  }
  return this;
}
