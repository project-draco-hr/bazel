{
  builder.setOutputFile(ruleContext.getRelatedArtifact(outputName,".h.processed")).setDotdFile(outputName,".h.d",ruleContext);
  semantics.finalizeCompileActionBuilder(ruleContext,builder);
  CppCompileAction compileAction=builder.build();
  env.registerAction(compileAction);
  Artifact tokenFile=compileAction.getOutputFile();
  result.addHeaderTokenFile(tokenFile);
}
