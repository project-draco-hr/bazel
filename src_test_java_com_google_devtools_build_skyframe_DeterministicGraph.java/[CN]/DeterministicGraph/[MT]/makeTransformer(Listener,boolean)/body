{
  if (deterministic) {
    return new Function<ThinNodeQueryableGraph,ProcessableGraph>(){
      @Override public ProcessableGraph apply(      ThinNodeQueryableGraph queryableGraph){
        if (queryableGraph instanceof InMemoryGraph) {
          return new DeterministicInMemoryGraph((InMemoryGraph)queryableGraph,listener);
        }
 else {
          return new DeterministicGraph<>(queryableGraph,listener);
        }
      }
    }
;
  }
 else {
    return NotifyingGraph.makeNotifyingTransformer(listener);
  }
}
