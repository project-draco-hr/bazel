{
  ImmutableSet.Builder<Artifact> protoFiles=new ImmutableSet.Builder<>();
  for (  FileProvider target : getDepsFilePrerequisites()) {
    for (    Artifact file : target.getFilesToBuild()) {
      if (file.getFilename().endsWith(".proto")) {
        protoFiles.add(file);
      }
    }
  }
  ImmutableSet<Artifact> protos=protoFiles.build();
  if (!protos.isEmpty()) {
    ruleContext.attributeWarning("deps",FILES_DEPRECATED_WARNING);
  }
  return protos;
}
