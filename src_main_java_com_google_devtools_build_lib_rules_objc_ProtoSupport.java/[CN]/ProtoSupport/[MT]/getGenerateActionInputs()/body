{
  NestedSetBuilder<Artifact> inputsBuilder=NestedSetBuilder.<Artifact>stableOrder().add(attributes.getProtoCompiler()).addAll(getAllProtoSources()).add(getProtoInputListFile()).addAll(attributes.getProtoCompilerSupport()).addAll(getPortableProtoFilters());
  Artifact optionsFile=attributes.getOptionsFile();
  if (optionsFile != null) {
    inputsBuilder.add(optionsFile);
  }
  return inputsBuilder.build();
}
