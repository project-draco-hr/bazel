{
  NestedSetBuilder<Artifact> portableProtoFilters=NestedSetBuilder.stableOrder();
  if (targetType == TargetType.LINKING_TARGET) {
    for (    ObjcProtoProvider objcProtoProvider : attributes.getDepsObjcProtoPrerequisites()) {
      portableProtoFilters.addTransitive(objcProtoProvider.getPortableProtoFilters());
    }
  }
  portableProtoFilters.addAll(attributes.getPortableProtoFilters());
  return portableProtoFilters.build();
}
