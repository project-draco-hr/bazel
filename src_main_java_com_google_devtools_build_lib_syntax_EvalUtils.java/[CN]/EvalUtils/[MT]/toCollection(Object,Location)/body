{
  if (o instanceof Collection) {
    return (Collection<Object>)o;
  }
 else   if (o instanceof SkylarkList) {
    return ((SkylarkList)o).toList();
  }
 else   if (o instanceof Map<?,?>) {
    Map<Comparable<?>,Object> dict=(Map<Comparable<?>,Object>)o;
    return Ordering.natural().sortedCopy(dict.keySet());
  }
 else   if (o instanceof SkylarkNestedSet) {
    return ((SkylarkNestedSet)o).toCollection();
  }
 else {
    throw new EvalException(loc,"type '" + getDataTypeName(o) + "' is not a collection");
  }
}
