{
  if (original instanceof EvalExceptionWithStackTrace) {
    EvalExceptionWithStackTrace real=(EvalExceptionWithStackTrace)original;
    if (isNewScope()) {
      real.registerNode(this);
    }
    return real;
  }
  if (original instanceof EvalException && !((EvalException)original).canBeAddedToStackTrace()) {
    return (EvalException)original;
  }
  return new EvalExceptionWithStackTrace(original,this);
}
