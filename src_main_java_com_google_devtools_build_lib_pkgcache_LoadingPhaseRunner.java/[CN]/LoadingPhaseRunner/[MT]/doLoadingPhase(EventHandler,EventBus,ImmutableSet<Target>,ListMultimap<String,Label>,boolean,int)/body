{
  Stopwatch timer=preLoadingLogging(eventHandler);
  BaseLoadingResult baseResult=performLoadingOfTargets(eventHandler,eventBus,targetsToLoad,labelsToLoadUnconditionally,keepGoing,loadingPhaseThreads);
  BaseLoadingResult expandedResult;
  try {
    expandedResult=expandTestSuites(eventHandler,baseResult.getTargets(),keepGoing);
  }
 catch (  TargetParsingException e) {
    throw (AssertionError)(new AssertionError("Unexpected target failure").initCause(e));
  }
  postLoadingLogging(eventBus,baseResult.getTargets(),expandedResult.getTargets(),timer);
  return new BaseLoadingResult(expandedResult.getTargets(),baseResult.isSuccesful() && expandedResult.isSuccesful());
}
