{
  Set<String> current=new TreeSet<>();
  current.addAll(getBuildOptions().outputGroups);
  if (getOptions(Options.class).collectCodeCoverage && !getBuildOptions().compileOnly && !getBuildOptions().compilationPrerequisitesOnly&& runTests) {
    current.add(TopLevelArtifactProvider.BASELINE_COVERAGE);
  }
  if (getBuildOptions().compileOnly) {
    current.add(TopLevelArtifactProvider.FILES_TO_COMPILE);
  }
  if (getBuildOptions().compilationPrerequisitesOnly) {
    current.add(TopLevelArtifactProvider.COMPILATION_PREREQUISITES);
  }
  return ImmutableSet.copyOf(current);
}
