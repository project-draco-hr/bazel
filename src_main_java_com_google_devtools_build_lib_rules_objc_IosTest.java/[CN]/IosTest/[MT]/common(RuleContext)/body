{
  ImmutableList<SdkFramework> extraSdkFrameworks=isXcTest(ruleContext) ? AUTOMATIC_SDK_FRAMEWORKS_FOR_XCTEST : ImmutableList.<SdkFramework>of();
  List<ObjcProvider> extraDepObjcProviders=new ArrayList<>();
  if (isXcTest(ruleContext)) {
    extraDepObjcProviders.add(xcTestAppProvider(ruleContext).getObjcProvider());
  }
  return ObjcLibrary.common(ruleContext,extraSdkFrameworks,false,new ObjcLibrary.ExtraImportLibraries(),new ObjcLibrary.Defines(),extraDepObjcProviders);
}
