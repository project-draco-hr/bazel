{
  TransitiveInfoCollection prerequisite=ruleContext.getPrerequisite("header_compiler",Mode.HOST);
  if (prerequisite == null) {
    return null;
  }
  Iterable<Artifact> artifacts=prerequisite.getProvider(FileProvider.class).getFilesToBuild();
  if (Iterables.size(artifacts) != 1) {
    ruleContext.attributeError("header_compiler",prerequisite.getLabel() + " expected a single artifact");
    return null;
  }
  return Iterables.getOnlyElement(artifacts);
}
