def Update():
    'Requests an update of the toolchain to the specific hashes we have at\n  this revision. The update outputs a .json of the various configuration\n  information required to pass to gyp which we use in |GetToolchainDir()|.\n  '
    depot_tools_win_toolchain = bool(int(os.environ.get('DEPOT_TOOLS_WIN_TOOLCHAIN', '1')))
    if ((sys.platform in ('win32', 'cygwin')) and depot_tools_win_toolchain):
        depot_tools_path = FindDepotTools()
        get_toolchain_args = ([sys.executable, os.path.join(depot_tools_path, 'win_toolchain', 'get_toolchain_if_necessary.py'), '--output-json', json_data_file] + _GetDesiredVsToolchainHashes())
        subprocess.check_call(get_toolchain_args)
    return 0
