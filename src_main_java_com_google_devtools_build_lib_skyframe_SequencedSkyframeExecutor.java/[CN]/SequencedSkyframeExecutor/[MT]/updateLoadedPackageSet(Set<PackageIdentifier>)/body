{
  Preconditions.checkState(valueCacheEvictionLimit >= 0,"should have called setMinLoadedPkgCountForCtValueEviction earlier");
  Set<PackageIdentifier> union=ImmutableSet.copyOf(Sets.union(allLoadedPackages,loadedPackages));
  if (union.size() < valueCacheEvictionLimit || isBuildSubsetOrSupersetOfPreviousBuild(allLoadedPackages,loadedPackages)) {
    allLoadedPackages=union;
  }
 else {
    dropConfiguredTargets();
    allLoadedPackages=loadedPackages;
  }
}
