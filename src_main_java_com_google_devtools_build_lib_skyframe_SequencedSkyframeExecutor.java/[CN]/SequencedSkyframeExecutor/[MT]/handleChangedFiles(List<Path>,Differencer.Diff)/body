{
  Collection<SkyKey> changedKeysWithoutNewValues=diff.changedKeysWithoutNewValues();
  Map<SkyKey,? extends SkyValue> changedKeysWithNewValues=diff.changedKeysWithNewValues();
  logDiffInfo(pathEntries,changedKeysWithoutNewValues,changedKeysWithNewValues);
  recordingDiffer.invalidate(changedKeysWithoutNewValues);
  recordingDiffer.inject(changedKeysWithNewValues);
  modifiedFiles+=getNumberOfModifiedFiles(changedKeysWithoutNewValues);
  modifiedFiles+=getNumberOfModifiedFiles(changedKeysWithNewValues.keySet());
  incrementalBuildMonitor.accrue(changedKeysWithoutNewValues);
  incrementalBuildMonitor.accrue(changedKeysWithNewValues.keySet());
}
