{
  Artifact scriptFileArtifact=ruleContext.getAnalysisEnvironment().getDerivedArtifact(ruleContext.getTarget().getLabel().getPackageFragment().getRelative(fileName),ruleContext.getConfiguration().getGenfilesDirectory());
  ruleContext.registerAction(new FileWriteAction(ruleContext.getActionOwner(),scriptFileArtifact,contents,executable));
  return scriptFileArtifact;
}
