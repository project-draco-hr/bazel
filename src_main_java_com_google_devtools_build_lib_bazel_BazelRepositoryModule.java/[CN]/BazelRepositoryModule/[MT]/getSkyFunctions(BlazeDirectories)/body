{
  ImmutableMap.Builder<SkyFunctionName,SkyFunction> builder=ImmutableMap.builder();
  for (  RepositoryFunction handler : repositoryHandlers.values()) {
    builder.put(handler.getSkyFunctionName(),handler);
  }
  builder.put(SkyFunctions.REPOSITORY,new RepositoryDelegatorFunction(directories,repositoryHandlers,isFetch));
  downloadFunction=new HttpDownloadFunction();
  builder.put(HttpDownloadFunction.NAME,downloadFunction);
  gitCloneFunction=new GitCloneFunction();
  builder.put(SkyFunctionName.create(GitCloneFunction.NAME),gitCloneFunction);
  builder.put(JarFunction.NAME,new JarFunction());
  builder.put(ZipFunction.NAME,new ZipFunction());
  builder.put(TarGzFunction.NAME,new TarGzFunction());
  builder.put(FileFunction.NAME,new FileFunction());
  return builder.build();
}
