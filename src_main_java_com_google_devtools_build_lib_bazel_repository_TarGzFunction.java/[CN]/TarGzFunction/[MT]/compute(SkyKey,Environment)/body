{
  DecompressorDescriptor descriptor=(DecompressorDescriptor)skyKey.argument();
  try (GZIPInputStream gzipStream=new GZIPInputStream(new FileInputStream(descriptor.archivePath().getPathFile()))){
    TarInputStream inputStream=new TarInputStream(gzipStream);
    while (inputStream.available() != 0) {
      TarEntry entry=inputStream.getNextEntry();
      Path filename=descriptor.repositoryPath().getRelative(entry.getFilename());
      FileSystemUtils.createDirectoryAndParents(filename.getParentDirectory());
      if (entry.isDirectory()) {
        FileSystemUtils.createDirectoryAndParents(filename);
      }
 else {
        Files.copy(entry,filename.getPathFile().toPath());
        filename.chmod(entry.getPermissions());
      }
    }
  }
 catch (  IOException e) {
    throw new RepositoryFunctionException(e,Transience.TRANSIENT);
  }
  return new DecompressorValue(descriptor.repositoryPath());
}
