{
  Preconditions.checkState(keysRequested.isEmpty(),"resolver should only be called once: %s %s",keysRequested,execPaths);
  Map<PathFragment,SkyKey> depKeys=new HashMap<>();
  for (  PathFragment path : execPaths) {
    SkyKey depKey=ContainingPackageLookupValue.key(PackageIdentifier.createInDefaultRepo(path));
    depKeys.put(path,depKey);
    keysRequested.add(depKey);
  }
  Map<SkyKey,SkyValue> values=env.getValues(depKeys.values());
  if (env.valuesMissing()) {
    return null;
  }
  Map<PathFragment,Root> result=new HashMap<>();
  for (  PathFragment path : execPaths) {
    ContainingPackageLookupValue value=(ContainingPackageLookupValue)values.get(depKeys.get(path));
    if (value.hasContainingPackage()) {
      result.put(path,Root.asSourceRoot(value.getContainingPackageRoot()));
    }
 else {
      result.put(path,null);
    }
  }
  return result;
}
