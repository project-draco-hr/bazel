{
  Preconditions.checkState(action.discoversInputs(),action);
  Iterable<Artifact> newArtifacts=Iterables.filter(action.getInputs(),Predicates.not(Predicates.in(knownInputs)));
  return transformArtifactMetadata(env.getValues(toKeys(newArtifacts,action.getMandatoryInputs())));
}
