{
  this.lastBuildDirectDeps=lastBuildDirectDeps;
  this.lastBuildValue=Preconditions.checkNotNull(lastBuildValue);
  Preconditions.checkState(isChanged || !this.lastBuildDirectDeps.isEmpty(),"is being marked dirty, not changed, but has no children that could have dirtied it",this);
  dirtyState=isChanged ? DirtyState.REBUILDING : DirtyState.CHECK_DEPENDENCIES;
  if (dirtyState == DirtyState.CHECK_DEPENDENCIES) {
    dirtyDirectDepIterator=lastBuildDirectDeps.iterator();
  }
}
