{
  JavaCompilationArgs.Builder builder=JavaCompilationArgs.builder().merge(javaCommon.getJavaCompilationArtifacts(),neverLink);
  if (recursive || !hasSrcs) {
    builder.addTransitiveTargets(ruleContext.getPrerequisites("deps",Mode.TARGET),recursive,neverLink ? ClasspathType.COMPILE_ONLY : ClasspathType.BOTH);
  }
  return builder.build();
}
