{
  RunfilesSupport toolRunnerRunfiles=toolRunner.getRunfilesSupport();
  AndroidSdkProvider sdk=AndroidSdkProvider.fromRuleContext(ruleContext);
  Preconditions.checkState(toolRunnerRunfiles != null,toolRunner.getLabel());
  ruleContext.registerAction(new SpawnAction.Builder().setExecutable(sdk.getAidl()).addInput(idl).addInputs(idlImports).addInput(preprocessedIdls).addInput(sdk.getFrameworkAidl()).addOutput(output).addArgument("-b").addArguments(preprocessedArgs).addArgument(idl.getExecPathString()).addArgument(output.getExecPathString()).setProgressMessage("Android IDL generation").setMnemonic("AndroidIDLGnerate").build(ruleContext));
}
