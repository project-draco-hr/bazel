{
  return new JackCompilationHelper.Builder().setRuleContext(ruleContext).setJavaSemantics(javaSemantics).setOutputArtifact(ruleContext.getImplicitOutputArtifact(AndroidRuleClasses.ANDROID_LIBRARY_JACK_FILE)).setAndroidBaseLibraryForJack(ruleContext.getHostPrerequisiteArtifact("$android_jack")).addJavaSources(attributes.getSourceFiles()).addSourceJars(attributes.getSourceJars()).addCompiledJars(attributes.getJarFiles()).addResources(attributes.getResources()).addProcessorNames(attributes.getProcessorNames()).addProcessorClasspathJars(attributes.getProcessorPath()).addExports(JavaCommon.getExports(ruleContext)).addClasspathDeps(javaCommon.targetsTreatedAsDeps(ClasspathType.COMPILE_ONLY)).addRuntimeDeps(javaCommon.targetsTreatedAsDeps(ClasspathType.RUNTIME_ONLY)).build();
}
