{
  this.targetConfigurations=ImmutableList.copyOf(targetConfigurations);
  HashMap<String,BuildConfiguration> cacheKeyConflictDetector=new HashMap<>();
  for (  BuildConfiguration config : getAllConfigurations()) {
    if (cacheKeyConflictDetector.containsKey(config.cacheKey())) {
      throw new InvalidConfigurationException("Conflicting configurations: " + config + " & "+ cacheKeyConflictDetector.get(config.cacheKey()));
    }
    cacheKeyConflictDetector.put(config.cacheKey(),config);
  }
}
