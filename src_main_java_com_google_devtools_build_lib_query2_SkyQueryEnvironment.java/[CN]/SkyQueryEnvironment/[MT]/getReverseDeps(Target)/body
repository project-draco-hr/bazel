{
  return Collections2.filter(getRawReverseDeps(target),new Predicate<Target>(){
    @Override public boolean apply(    Target parent){
      return !(parent instanceof Rule) || getAllowedDeps((Rule)parent).contains(target.getLabel());
    }
  }
);
}
