{
  try {
    TargetPatternKey targetPatternKey=((TargetPatternKey)TargetPatternValue.key(pattern,TargetPatternEvaluator.DEFAULT_FILTERING_POLICY,parserPrefix).argument());
    TargetPattern parsedPattern=targetPatternKey.getParsedPattern();
    ImmutableSet<PathFragment> subdirectoriesToExclude=targetPatternKey.getAllSubdirectoriesToExclude(blacklistPatternsSupplier);
    FilteringBatchingUniquifyingCallback wrapper=new FilteringBatchingUniquifyingCallback(callback);
    parsedPattern.eval(resolver,subdirectoriesToExclude,wrapper,QueryException.class);
    wrapper.processLastPending();
  }
 catch (  TargetParsingException e) {
    reportBuildFileError(owner,e.getMessage());
  }
catch (  InterruptedException e) {
    throw new QueryException(owner,e.getMessage());
  }
}
