{
  if (stackTrace.size() <= 2 || args.containsKey("generator_name") || args.containsKey("generator_function")) {
    return args;
  }
  StackTraceElement generator=stackTrace.get(0);
  String name=generator.getNameArg();
  ImmutableMap.Builder<String,Object> builder=ImmutableMap.builder();
  builder.putAll(args);
  builder.put("generator_name",(name == null) ? args.get("name") : name);
  builder.put("generator_function",generator.getName());
  builder.put("generator_location",Location.printPathAndLine(generator.getLocation()));
  try {
    return builder.build();
  }
 catch (  IllegalArgumentException ex) {
    return args;
  }
}
