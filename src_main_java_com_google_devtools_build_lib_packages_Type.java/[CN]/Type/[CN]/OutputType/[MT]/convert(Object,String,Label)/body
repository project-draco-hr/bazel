{
  String value;
  try {
    value=STRING.convert(x,what,currentRule);
  }
 catch (  ConversionException e) {
    throw new ConversionException(this,x,what);
  }
  try {
    Label result=currentRule.getRelative(value);
    if (!result.getPackageName().equals(currentRule.getPackageName())) {
      throw new ConversionException("label '" + value + "' is not in the current package");
    }
    return result;
  }
 catch (  LabelSyntaxException e) {
    throw new ConversionException("illegal output file name '" + value + "' in rule "+ currentRule+ ": "+ e.getMessage());
  }
}
