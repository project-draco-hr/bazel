{
  if (valueRequested instanceof GlobValue) {
    matches.addTransitive(((GlobValue)valueRequested).getMatches());
  }
 else {
    Preconditions.checkState(valueRequested instanceof PackageLookupValue,"%s is not a GlobValue or PackageLookupValue (%s %s)",valueRequested,fileName,glob);
    if (!((PackageLookupValue)valueRequested).packageExists()) {
      matches.add(glob.getSubdir().getRelative(fileName));
    }
  }
}
