{
  Map<String,SkylarkModuleDoc> modules=new TreeMap<>();
  Map<String,SkylarkModuleDoc> builtinModules=collectBuiltinModules();
  Map<SkylarkModule,Class<?>> builtinJavaObjects=collectBuiltinJavaObjects();
  modules.putAll(builtinModules);
  SkylarkJavaInterfaceExplorer explorer=new SkylarkJavaInterfaceExplorer();
  for (  SkylarkModuleDoc builtinObject : builtinModules.values()) {
    for (    SkylarkBuiltinMethod builtinMethod : builtinObject.getBuiltinMethods().values()) {
      Class<?> type=builtinMethod.annotation.returnType();
      if (type.isAnnotationPresent(SkylarkModule.class)) {
        explorer.collect(type.getAnnotation(SkylarkModule.class),type,modules);
      }
    }
    explorer.collect(builtinObject.getAnnotation(),builtinObject.getClassObject(),modules);
  }
  for (  Entry<SkylarkModule,Class<?>> builtinModule : builtinJavaObjects.entrySet()) {
    explorer.collect(builtinModule.getKey(),builtinModule.getValue(),modules);
  }
  return modules;
}
