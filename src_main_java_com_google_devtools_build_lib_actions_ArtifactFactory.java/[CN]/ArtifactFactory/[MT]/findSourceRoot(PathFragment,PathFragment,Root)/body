{
  Preconditions.checkState(baseExecPath == null || (execPath.startsWith(baseExecPath) && !execPath.equals(baseExecPath)),"%s %s %s",execPath,baseExecPath,baseRoot);
  for (PathFragment dir=execPath.getParentDirectory(); !Objects.equals(dir,baseExecPath); dir=dir.getParentDirectory()) {
    Preconditions.checkNotNull(dir,"%s %s %s",execPath,baseExecPath,baseRoot);
    Root sourceRoot=packageRoots.get(PackageIdentifier.createInDefaultRepo(dir));
    if (sourceRoot != null) {
      return sourceRoot;
    }
  }
  return baseRoot;
}
