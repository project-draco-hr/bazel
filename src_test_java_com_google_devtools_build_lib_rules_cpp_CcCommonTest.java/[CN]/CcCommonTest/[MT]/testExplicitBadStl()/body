{
  scratch.file("x/BUILD");
  reporter.removeHandler(failFastHandler);
  try {
    createConfigurations("--experimental_stl=//x:blah");
    fail("found non-existing target");
  }
 catch (  InvalidConfigurationException expected) {
    assertThat(expected.getMessage()).contains("Failed to load required STL target: '//x:blah'");
  }
  try {
    createConfigurations("--experimental_stl=//blah");
    fail("found non-existing target");
  }
 catch (  InvalidConfigurationException expected) {
    assertThat(expected.getMessage()).contains("Failed to load required STL target: '//blah:blah'");
  }
  try {
    createConfigurations("--experimental_stl=//blah");
    fail("found non-existing target");
  }
 catch (  InvalidConfigurationException expected) {
    assertThat(expected.getMessage()).contains("Failed to load required STL target: '//blah:blah'");
  }
}
