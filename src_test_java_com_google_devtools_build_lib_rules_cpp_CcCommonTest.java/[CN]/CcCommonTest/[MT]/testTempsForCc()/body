{
  useConfiguration("--save_temps");
  ConfiguredTarget fooTarget=getConfiguredTarget("//foo:foo");
  List<Artifact> temps=ImmutableList.copyOf(getOutputGroup(fooTarget,OutputGroupProvider.TEMP_FILES));
  assertThat(temps).hasSize(2);
  assertThat(filter(temps,fileTypePredicate(CppFileTypes.PIC_PREPROCESSED_CPP))).hasSize(1);
  assertThat(filter(temps,fileTypePredicate(CppFileTypes.PIC_ASSEMBLER))).hasSize(1);
}
