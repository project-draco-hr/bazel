{
  useConfiguration("--save_temps","--cpu=piii");
  ConfiguredTarget fooTarget=getConfiguredTarget("//foo:foo");
  List<Artifact> temps=ImmutableList.copyOf(getOutputGroup(fooTarget,OutputGroupProvider.TEMP_FILES));
  assertThat(temps).hasSize(2);
  assertThat(filter(temps,fileTypePredicate(CppFileTypes.PREPROCESSED_CPP))).hasSize(1);
  assertThat(filter(temps,fileTypePredicate(CppFileTypes.ASSEMBLER))).hasSize(1);
}
