{
  Build.Location.Builder result=Build.Location.newBuilder();
  result.setStartOffset(location.getStartOffset());
  result.setEndOffset(location.getEndOffset());
  if (serializeFullLocations) {
    Location.LineAndColumn startLineAndColumn=location.getStartLineAndColumn();
    if (startLineAndColumn != null) {
      result.setStartLine(startLineAndColumn.getLine());
      result.setStartColumn(startLineAndColumn.getColumn());
    }
    Location.LineAndColumn endLineAndColumn=location.getEndLineAndColumn();
    if (endLineAndColumn != null) {
      result.setEndLine(endLineAndColumn.getLine());
      result.setEndColumn(endLineAndColumn.getColumn());
    }
  }
  return result.build();
}
