{
  if (suffix.isNormalized()) {
    return path.endsWith(suffix);
  }
  for (int suffixIndex=suffix.segmentCount() - 1, pathIndex=path.segmentCount() - 1; suffixIndex >= 0; suffixIndex--) {
    if (suffix.getSegment(suffixIndex).equals("..")) {
      if (suffixIndex > 0) {
        suffixIndex--;
        continue;
      }
 else {
        return true;
      }
    }
    if (pathIndex < 0 || !path.getSegment(pathIndex).equals(suffix.getSegment(suffixIndex))) {
      return false;
    }
    pathIndex--;
  }
  return true;
}
