{
  if (root.isMainRepo()) {
    return relativePath;
  }
  PathFragment prefix;
  if (root.isSourceRoot()) {
    prefix=new PathFragment(Label.EXTERNAL_PATH_PREFIX).getRelative(root.getPath().getBaseName());
  }
 else {
    prefix=new PathFragment(Label.EXTERNAL_PATH_PREFIX).getRelative(root.getExecRoot().getBaseName());
  }
  return prefix.getRelative(relativePath);
}
