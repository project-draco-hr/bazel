{
  Preconditions.checkArgument(middleman.isMiddlemanArtifact() || middleman.isTreeArtifact());
  List<ArtifactFile> artifacts=new ArrayList<>();
  artifactExpander.expand(middleman,artifacts);
  for (  ArtifactFile artifact : artifacts) {
    output.add(outputFormatter.apply(artifact));
  }
}
