def _nanopb_proto_emitter(target, source, env):
    basename = os.path.splitext(str(source[0]))[0]
    target.append((basename + '.pb.h'))
    if os.path.exists((basename + '.options')):
        source.append((basename + '.options'))
    return (target, source)
