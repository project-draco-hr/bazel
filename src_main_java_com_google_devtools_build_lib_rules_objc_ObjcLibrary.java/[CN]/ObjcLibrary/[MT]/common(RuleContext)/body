{
  return new ObjcCommon.Builder(ruleContext).setCompilationAttributes(CompilationAttributes.Builder.fromRuleContext(ruleContext).build()).setResourceAttributes(new ResourceAttributes(ruleContext)).addDefines(ruleContext.getTokenizedStringListAttr("defines")).setCompilationArtifacts(CompilationSupport.compilationArtifacts(ruleContext)).addDeps(ruleContext.getPrerequisites("deps",Mode.TARGET)).addRuntimeDeps(ruleContext.getPrerequisites("runtime_deps",Mode.TARGET)).addDepObjcProviders(ruleContext.getPrerequisites("bundles",Mode.TARGET,ObjcProvider.class)).addNonPropagatedDepObjcProviders(ruleContext.getPrerequisites("non_propagated_deps",Mode.TARGET,ObjcProvider.class)).setIntermediateArtifacts(ObjcRuleClasses.intermediateArtifacts(ruleContext)).setAlwayslink(ruleContext.attributes().get("alwayslink",Type.BOOLEAN)).setHasModuleMap().build();
}
