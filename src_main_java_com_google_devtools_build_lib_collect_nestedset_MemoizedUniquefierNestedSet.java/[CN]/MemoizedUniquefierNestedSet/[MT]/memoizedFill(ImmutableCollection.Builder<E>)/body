{
  Uniqueifier memoed;
synchronized (this) {
    Object memo=getMemo();
    if (memo == null) {
      RecordingUniqueifier uniqueifier=new RecordingUniqueifier();
      getOrder().<E>expander().expandInto(this,uniqueifier,builder);
      setMemo(uniqueifier.getMemo());
      return;
    }
 else {
      memoed=RecordingUniqueifier.createReplayUniqueifier(memo);
    }
  }
  getOrder().<E>expander().expandInto(this,memoed,builder);
}
