def main(unused_argv):
    force_mode = None
    if FLAGS.mode:
        force_mode = int(FLAGS.mode, 8)
    with DockerLayer(FLAGS.output, FLAGS.directory) as layer:
        for f in FLAGS.file:
            (inf, tof) = f.split('=', 1)
            layer.add_file(inf, tof, force_mode)
        for tar in FLAGS.tar:
            layer.add_tar(tar)
        for deb in FLAGS.deb:
            layer.add_deb(deb)
        for link in FLAGS.link:
            l = link.split(':', 1)
            layer.add_link(l[0], l[1])
