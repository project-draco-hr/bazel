{
  this.skyKey=skyKey;
  this.oldDeps=oldDeps;
  this.directDeps=Collections.unmodifiableMap(batchPrefetch(directDeps,bubbleErrorInfo == null,skyKey));
  this.bubbleErrorInfo=bubbleErrorInfo;
  this.visitor=visitor;
  Preconditions.checkState(!this.directDeps.containsKey(ErrorTransienceValue.KEY),"%s cannot have a dep on ErrorTransienceValue during building",skyKey);
}
