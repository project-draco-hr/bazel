{
  Map<SkyKey,? extends NodeEntry> batch=graph.getBatch(skyKey,Reason.SIGNAL_DEP,keys);
  if (visitor != null) {
    for (    SkyKey key : keys) {
      NodeEntry entry=Preconditions.checkNotNull(batch.get(key),key);
      if (entry.signalDep(version)) {
        visitor.enqueueEvaluation(key);
      }
    }
  }
 else {
    for (    SkyKey key : keys) {
      NodeEntry entry=Preconditions.checkNotNull(batch.get(key),key);
      if (!entry.isDone()) {
        entry.signalDep(version);
      }
    }
  }
}
