{
  SkyKey skyKey=GlobValue.key(PackageIdentifier.createInDefaultRepo("missing"),"foo",false,PathFragment.EMPTY_FRAGMENT);
  try {
    driver.evaluate(ImmutableList.of(skyKey),false,SkyframeExecutor.DEFAULT_THREAD_COUNT,NullEventHandler.INSTANCE);
    fail();
  }
 catch (  RuntimeException e) {
    assertThat(e.getMessage()).contains("Unrecoverable error while evaluating node '" + skyKey + "'");
    Throwable cause=e.getCause();
    assertThat(cause).isInstanceOf(IllegalStateException.class);
    assertThat(cause.getMessage()).contains("isn't an existing package");
  }
}
