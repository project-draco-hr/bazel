{
  this.installBase=installBase;
  this.workspace=workspace;
  this.outputBase=outputBase;
  this.installMD5=installMD5 == null ? null : checkMD5(HashCode.fromString(installMD5));
  boolean useDefaultExecRootName=this.workspace == null || this.workspace.isRootDirectory();
  Path execRootBase=deepExecRoot ? outputBase.getChild("execroot") : outputBase;
  if (useDefaultExecRootName) {
    this.execRoot=execRootBase.getChild(DEFAULT_EXEC_ROOT);
  }
 else {
    this.execRoot=execRootBase.getChild(workspace.getBaseName());
  }
  this.outputPath=execRoot.getRelative(RELATIVE_OUTPUT_PATH);
  Preconditions.checkState(useDefaultExecRootName || outputPath.asFragment().equals(outputPathFromOutputBase(outputBase.asFragment(),workspace.asFragment(),deepExecRoot)));
  this.localOutputPath=outputBase.getRelative(BlazeDirectories.RELATIVE_OUTPUT_PATH);
}
