{
  BuildConfiguration config=targetConfig;
  if (targetConfig.useDynamicConfigurations()) {
    try {
      config=view.trimConfigurationForTesting(getTarget(label),targetConfig,reporter);
    }
 catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
  return new ConfiguredTargetKey(makeLabel(label),config);
}
