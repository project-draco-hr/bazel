{
  Environment env=new Environment();
  try {
    eval(parseExpr("foo"),env);
    fail();
  }
 catch (  EvalException e) {
    assertEquals("name 'foo' is not defined",e.getMessage());
  }
  env.update("foo","bar");
  assertEquals("bar",eval(parseExpr("foo"),env));
}
