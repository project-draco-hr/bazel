def ArchForAsmFilename(filename):
    'Returns the architectures that a given asm file should be compiled for\n  based on substrings in the filename.'
    if (('x86_64' in filename) or ('avx2' in filename)):
        return ['x86_64']
    elif ((('x86' in filename) and ('x86_64' not in filename)) or ('586' in filename)):
        return ['x86']
    elif ('armx' in filename):
        return ['arm', 'aarch64']
    elif ('armv8' in filename):
        return ['aarch64']
    elif ('arm' in filename):
        return ['arm']
    else:
        raise ValueError(('Unknown arch for asm filename: ' + filename))
