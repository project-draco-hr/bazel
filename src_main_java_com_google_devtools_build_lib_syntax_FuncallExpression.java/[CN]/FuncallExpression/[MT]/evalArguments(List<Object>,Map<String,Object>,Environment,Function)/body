{
  ArgConversion conversion=getArgConversion(function);
  for (  Argument arg : args) {
    Object value=arg.getValue().eval(env);
    if (conversion == ArgConversion.FROM_SKYLARK) {
      value=SkylarkType.convertFromSkylark(value);
    }
 else     if (conversion == ArgConversion.TO_SKYLARK) {
      value=SkylarkType.convertToSkylark(value,getLocation());
      SkylarkType.checkTypeAllowedInSkylark(value,getLocation());
    }
    if (arg.isPositional()) {
      posargs.add(value);
    }
 else     if (arg.isKwargs()) {
      addKeywordArgs(kwargs,value);
    }
 else {
      addKeywordArg(kwargs,arg.getArgName(),value);
    }
  }
  if (function instanceof UserDefinedFunction) {
    UserDefinedFunction func=(UserDefinedFunction)function;
    if (args.size() < func.getArgs().size()) {
      for (      Map.Entry<String,Object> entry : func.getDefaultValues().entrySet()) {
        String key=entry.getKey();
        if (func.getArgIndex(key) >= numPositionalArgs && !kwargs.containsKey(key)) {
          kwargs.put(key,entry.getValue());
        }
      }
    }
  }
}
