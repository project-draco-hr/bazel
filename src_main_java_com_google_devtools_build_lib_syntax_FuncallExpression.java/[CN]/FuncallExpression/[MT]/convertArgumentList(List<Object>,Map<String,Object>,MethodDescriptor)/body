{
  ImmutableList.Builder<Object> builder=ImmutableList.builder();
  Class<?>[] params=method.getMethod().getParameterTypes();
  SkylarkCallable callable=method.getAnnotation();
  int mandatoryPositionals=callable.mandatoryPositionals();
  if (mandatoryPositionals < 0) {
    if (callable.parameters().length > 0) {
      mandatoryPositionals=0;
    }
 else {
      mandatoryPositionals=params.length;
    }
  }
  if (mandatoryPositionals > args.size() || args.size() > mandatoryPositionals + callable.parameters().length) {
    return null;
  }
  int i=0;
  if (mandatoryPositionals > 0) {
    for (    Class<?> param : params) {
      Object value=args.get(i);
      if (!param.isAssignableFrom(value.getClass())) {
        return null;
      }
      builder.add(value);
      i++;
      if (mandatoryPositionals >= 0 && i >= mandatoryPositionals) {
        break;
      }
    }
  }
  Set<String> keys=new HashSet<>(kwargs.keySet());
  for (  Param param : callable.parameters()) {
    SkylarkType type=getType(param);
    Object value=null;
    if (i < args.size()) {
      value=args.get(i);
      if (!param.positional() || !type.contains(value)) {
        return null;
      }
      i++;
    }
 else     if (param.named() && keys.remove(param.name())) {
      value=kwargs.get(param.name());
      if (!type.contains(value)) {
        return null;
      }
    }
 else {
      if (param.defaultValue().isEmpty()) {
        return null;
      }
      value=SkylarkSignatureProcessor.getDefaultValue(param,null);
    }
    builder.add(value);
    if (!param.noneable() && value instanceof NoneType) {
      return null;
    }
  }
  if (i < args.size() || !keys.isEmpty()) {
    return null;
  }
  return builder.build();
}
