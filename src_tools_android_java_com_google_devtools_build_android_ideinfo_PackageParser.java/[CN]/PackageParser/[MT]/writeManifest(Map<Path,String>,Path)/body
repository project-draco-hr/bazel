{
  if (sourceToPackageMap.isEmpty()) {
    return;
  }
  PackageManifest.Builder builder=PackageManifest.newBuilder();
  for (  Entry<Path,String> entry : sourceToPackageMap.entrySet()) {
    builder.addSources(JavaSourcePackage.newBuilder().setAbsolutePath(entry.getKey().toAbsolutePath().toString()).setPackageString(entry.getValue()));
  }
  try {
    ioProvider.writeProto(builder.build(),outputFile);
  }
 catch (  IOException e) {
    logger.log(Level.SEVERE,"Error writing package manifest",e);
    throw e;
  }
}
