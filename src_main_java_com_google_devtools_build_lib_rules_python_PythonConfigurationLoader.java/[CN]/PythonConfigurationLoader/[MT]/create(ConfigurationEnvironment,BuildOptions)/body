{
  PythonOptions pythonOptions=buildOptions.get(PythonOptions.class);
  CppConfiguration cppConfiguration=env.getFragment(buildOptions,CppConfiguration.class);
  if (cppConfiguration == null) {
    return null;
  }
  CrosstoolConfig.CToolchain toolchain=getToolchain(env,buildOptions,buildOptions.get(CppOptions.class).crosstoolTop);
  if (toolchain == null) {
    return null;
  }
  boolean ignorePythonVersionAttribute=pythonOptions.forcePython != null;
  PythonVersion pythonVersion=pythonOptions.getPythonVersion();
  return new PythonConfiguration(pythonVersion,ignorePythonVersionAttribute);
}
