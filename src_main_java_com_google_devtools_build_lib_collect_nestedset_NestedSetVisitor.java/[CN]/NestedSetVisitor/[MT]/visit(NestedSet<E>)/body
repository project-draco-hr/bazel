{
  Preconditions.checkArgument(nestedSet.getOrder() == Order.STABLE_ORDER);
  if (!visited.add(nestedSet)) {
    return;
  }
  for (  NestedSet<E> subset : nestedSet.transitiveSets()) {
    visit(subset);
  }
  for (  Object member : nestedSet.directMembers()) {
    if (visited.add((E)member)) {
      callback.accept((E)member);
    }
  }
}
