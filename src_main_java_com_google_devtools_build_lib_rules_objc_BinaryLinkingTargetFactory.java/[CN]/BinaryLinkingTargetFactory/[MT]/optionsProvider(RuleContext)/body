{
  OptionsProvider.Builder provider=new OptionsProvider.Builder().addCopts(ruleContext.getTokenizedStringListAttr("copts")).addTransitive(Optional.fromNullable(ruleContext.getPrerequisite("options",Mode.TARGET,OptionsProvider.class)));
  if (hasApplicationSupport == HasApplicationSupport.YES) {
    provider.addInfoplists(ruleContext.getPrerequisiteArtifacts("infoplist",Mode.TARGET).list());
  }
  return provider.build();
}
