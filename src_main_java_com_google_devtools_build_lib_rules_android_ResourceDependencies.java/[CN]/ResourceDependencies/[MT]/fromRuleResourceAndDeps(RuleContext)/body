{
  NestedSetBuilder<ResourceContainer> transitiveDependencies=NestedSetBuilder.naiveLinkOrder();
  NestedSetBuilder<ResourceContainer> directDependencies=NestedSetBuilder.naiveLinkOrder();
  extractFromAttribute("resources",ruleContext,transitiveDependencies,directDependencies);
  if (directDependencies.isEmpty()) {
    extractFromAttribute("deps",ruleContext,transitiveDependencies,directDependencies);
  }
 else {
    extractFromAttribute("deps",ruleContext,transitiveDependencies,transitiveDependencies);
  }
  return new ResourceDependencies(transitiveDependencies.build(),directDependencies.build());
}
