{
  NestedSetBuilder<ResourceContainer> transitiveDependencies=NestedSetBuilder.naiveLinkOrder();
  NestedSetBuilder<ResourceContainer> directDependencies=NestedSetBuilder.naiveLinkOrder();
  if (hasResourceAttribute(ruleContext)) {
    extractFromAttribute("resources",ruleContext,transitiveDependencies,directDependencies);
  }
  if (directDependencies.isEmpty()) {
    extractFromAttribute("deps",ruleContext,transitiveDependencies,directDependencies);
  }
 else {
    extractFromAttribute("deps",ruleContext,transitiveDependencies,transitiveDependencies);
  }
  return new ResourceDependencies(neverlink,transitiveDependencies.build(),directDependencies.build());
}
