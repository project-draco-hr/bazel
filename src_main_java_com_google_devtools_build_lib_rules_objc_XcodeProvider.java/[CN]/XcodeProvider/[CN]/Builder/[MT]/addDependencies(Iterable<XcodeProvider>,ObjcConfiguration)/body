{
  String architecture=configuration.getDependencySingleArchitecture();
  for (  XcodeProvider dependency : dependencies) {
    if (dependency.productType == XcodeProductType.EXTENSION) {
      this.extensions.add(dependency);
      this.inputsToXcodegen.addTransitive(dependency.inputsToXcodegen);
    }
 else     if (dependency.architecture.equals(architecture)) {
      this.dependencies.add(dependency);
      this.dependencies.addTransitive(dependency.dependencies);
      this.addTransitiveSets(dependency);
    }
  }
  return this;
}
