{
  new EnvironmentGroupMaker("foo_env").setEnvironments("a","b").setDefaults("a").make();
  reporter.removeHandler(failFastHandler);
  String ruleDef=getDependencyRule(constrainedTo("//foo_env:a"),compatibleWith("//foo_env:b"));
  assertNull(scratchConfiguredTarget("hello","dep",ruleDef));
  assertContainsEvent("//foo_env:b and //foo_env:a belong to the same environment group");
}
