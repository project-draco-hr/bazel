{
  LoadingProgressReceiver progressReceiver=new LoadingProgressReceiver();
  String packageName="//some/fancy/package/name";
  String otherPackageName="//some/other/unrelated/package";
  SkyKey otherKey=SkyKey.create(SkyFunctions.PACKAGE,otherPackageName);
  Supplier<SkyValue> valueSupplier=Mockito.mock(Supplier.class);
  progressReceiver.enqueueing(SkyKey.create(SkyFunctions.PACKAGE,packageName));
  progressReceiver.enqueueing(otherKey);
  progressReceiver.evaluated(otherKey,valueSupplier,EvaluationProgressReceiver.EvaluationState.BUILT);
  String state=progressReceiver.progressState();
  assertFalse("Package name '" + otherPackageName + "' should not occur in state '"+ state+ "'",state.contains(otherPackageName));
  assertTrue("Package name '" + packageName + "' should occour in state '"+ state+ "'",state.contains(packageName));
  assertTrue("Progress count should occur in state",state.contains("1 / 2"));
}
