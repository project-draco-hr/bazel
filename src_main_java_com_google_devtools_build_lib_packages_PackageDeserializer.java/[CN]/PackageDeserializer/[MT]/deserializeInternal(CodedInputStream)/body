{
  Build.Package packagePb=readPackageProto(codedIn);
  Package.Builder builder;
  try {
    builder=new Package.Builder(PackageIdentifier.create(packagePb.getRepository(),new PathFragment(packagePb.getName())),null);
  }
 catch (  LabelSyntaxException e) {
    throw new PackageDeserializationException(e);
  }
  StoredEventHandler eventHandler=new StoredEventHandler();
  deserializeInternal(packagePb,eventHandler,builder,codedIn);
  builder.addEvents(eventHandler.getEvents());
  return builder.build();
}
