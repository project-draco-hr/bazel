{
  PathPackageLocator pkgLocator=PrecomputedValue.PATH_PACKAGE_LOCATOR.get(env);
  Path lastPackagePath=null;
  for (  Path packagePathEntry : pkgLocator.getPathEntries()) {
    lastPackagePath=packagePathEntry;
    RootedPath workspacePath=RootedPath.toRootedPath(packagePathEntry,Label.EXTERNAL_PACKAGE_FILE_NAME);
    FileValue value=getFileValue(workspacePath,env,packageIdentifier);
    if (value == null) {
      return null;
    }
    if (value.exists()) {
      return PackageLookupValue.workspace(packagePathEntry);
    }
  }
  return PackageLookupValue.workspace(lastPackagePath);
}
