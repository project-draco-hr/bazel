{
  Map<String,SkylarkType> functions=topLevel().variableTypes.get(objectType);
  if (functions != null) {
    SkylarkType functionType=functions.get(funcName);
    if (functionType != null && functionType != SkylarkType.UNKNOWN) {
      if (!(functionType instanceof SkylarkFunctionType)) {
        throw new EvalException(loc,String.format("%s%s is not a function but a(n) %s",(objectType == SkylarkType.GLOBAL ? "" : objectType + "."),funcName,functionType));
      }
      return ((SkylarkFunctionType)functionType).getReturnType();
    }
  }
  return SkylarkType.UNKNOWN;
}
