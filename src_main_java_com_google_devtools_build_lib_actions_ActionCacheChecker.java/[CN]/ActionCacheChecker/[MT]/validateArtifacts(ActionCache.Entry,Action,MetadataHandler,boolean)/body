{
  Iterable<Artifact> artifacts=checkOutput ? Iterables.concat(action.getOutputs(),action.getInputs()) : action.getInputs();
  Map<String,Metadata> mdMap=new HashMap<>();
  for (  Artifact artifact : artifacts) {
    mdMap.put(artifact.getExecPathString(),metadataHandler.getMetadataMaybe(artifact));
  }
  return !Digest.fromMetadata(mdMap).equals(entry.getFileDigest());
}
