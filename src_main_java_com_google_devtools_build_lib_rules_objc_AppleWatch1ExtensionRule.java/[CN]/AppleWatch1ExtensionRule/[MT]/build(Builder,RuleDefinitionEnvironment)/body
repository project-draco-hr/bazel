{
  return builder.requiresConfigurationFragments(ObjcConfiguration.class,AppleConfiguration.class).setImplicitOutputsFunction(ImplicitOutputsFunction.fromFunctions(ReleaseBundlingSupport.IPA,XcodeSupport.PBXPROJ)).add(attr("binary",LABEL).allowedRuleClasses("apple_watch_extension_binary").allowedFileTypes().mandatory().direct_compile_time_input().cfg(AppleWatch1Extension.MINIMUM_OS_AND_SPLIT_ARCH_TRANSITION)).add(attr(WATCH_APP_DEPS_ATTR,LABEL_LIST).direct_compile_time_input().allowedRuleClasses(ALLOWED_DEPS_RULE_CLASSES).allowedFileTypes().cfg(AppleWatch1Extension.MINIMUM_OS_AND_SPLIT_ARCH_TRANSITION)).add(attr(WATCH_EXT_FAMILIES_ATTR,STRING_LIST).value(ImmutableList.of(TargetDeviceFamily.IPHONE.getNameInRule()))).build();
}
