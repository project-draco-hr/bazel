{
  List<String> rawFamilies=ruleContext.attributes().get("families",Type.STRING_LIST);
  try {
    return TargetDeviceFamily.fromNamesInRule(rawFamilies);
  }
 catch (  InvalidFamilyNameException|RepeatedFamilyNameException e) {
    return ImmutableSet.of();
  }
}
