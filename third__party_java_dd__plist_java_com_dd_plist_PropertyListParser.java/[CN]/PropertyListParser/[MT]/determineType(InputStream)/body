{
  byte[] magicBytes=new byte[8];
  int b;
  do {
    if (is.markSupported())     is.mark(16);
    b=is.read();
  }
 while (b != -1 && b == ' ' || b == '\t' || b == '\r' || b == '\n' || b == '\f');
  magicBytes[0]=(byte)b;
  int read=is.read(magicBytes,1,7);
  int type=determineType(new String(magicBytes,0,read));
  if (is.markSupported())   is.reset();
  return type;
}
