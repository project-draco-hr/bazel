def testConsumeIntegers(self):
    int64_max = ((1 << 63) - 1)
    uint32_max = ((1 << 32) - 1)
    text = ('-1 %d %d' % ((uint32_max + 1), (int64_max + 1)))
    tokenizer = text_format._Tokenizer(text.splitlines())
    self.assertRaises(text_format.ParseError, tokenizer.ConsumeUint32)
    self.assertRaises(text_format.ParseError, tokenizer.ConsumeUint64)
    self.assertEqual((-1), tokenizer.ConsumeInt32())
    self.assertRaises(text_format.ParseError, tokenizer.ConsumeUint32)
    self.assertRaises(text_format.ParseError, tokenizer.ConsumeInt32)
    self.assertEqual((uint32_max + 1), tokenizer.ConsumeInt64())
    self.assertRaises(text_format.ParseError, tokenizer.ConsumeInt64)
    self.assertEqual((int64_max + 1), tokenizer.ConsumeUint64())
    self.assertTrue(tokenizer.AtEnd())
    text = '-0 -0 0 0'
    tokenizer = text_format._Tokenizer(text.splitlines())
    self.assertEqual(0, tokenizer.ConsumeUint32())
    self.assertEqual(0, tokenizer.ConsumeUint64())
    self.assertEqual(0, tokenizer.ConsumeUint32())
    self.assertEqual(0, tokenizer.ConsumeUint64())
    self.assertTrue(tokenizer.AtEnd())
