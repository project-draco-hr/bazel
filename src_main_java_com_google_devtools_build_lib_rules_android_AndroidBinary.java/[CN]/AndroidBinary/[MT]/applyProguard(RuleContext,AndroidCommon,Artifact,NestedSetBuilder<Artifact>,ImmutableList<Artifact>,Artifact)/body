{
  Artifact proguardOutputJar=ruleContext.getImplicitOutputArtifact(AndroidRuleClasses.ANDROID_BINARY_PROGUARD_JAR);
  if (proguardSpecs.isEmpty()) {
    return createEmptyProguardAction(ruleContext,proguardOutputJar,deployJarArtifact);
  }
  AndroidSdkProvider sdk=AndroidSdkProvider.fromRuleContext(ruleContext);
  return createProguardAction(ruleContext,common,sdk.getProguard(),deployJarArtifact,proguardSpecs,proguardMapping,sdk.getAndroidJar(),proguardOutputJar,filesBuilder);
}
