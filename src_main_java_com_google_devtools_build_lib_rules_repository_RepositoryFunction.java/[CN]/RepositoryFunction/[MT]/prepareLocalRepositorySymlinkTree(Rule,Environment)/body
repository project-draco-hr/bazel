{
  Path repositoryDirectory=getExternalRepositoryDirectory().getRelative(rule.getName());
  try {
    FileSystemUtils.deleteTree(repositoryDirectory);
    FileSystemUtils.createDirectoryAndParents(repositoryDirectory);
  }
 catch (  IOException e) {
    throw new RepositoryFunctionException(e,Transience.TRANSIENT);
  }
  createWorkspaceFile(repositoryDirectory,rule);
  return repositoryDirectory;
}
