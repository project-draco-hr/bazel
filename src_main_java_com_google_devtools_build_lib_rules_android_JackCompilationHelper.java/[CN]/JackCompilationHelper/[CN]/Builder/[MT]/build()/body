{
  boolean useSanityChecks=ruleContext.getConfiguration().getFragment(AndroidConfiguration.class).isJackSanityChecked();
  FilesToRunProvider jackBinary=Preconditions.checkNotNull(ruleContext.getExecutablePrerequisite("$jack",Mode.HOST));
  FilesToRunProvider jillBinary=Preconditions.checkNotNull(ruleContext.getExecutablePrerequisite("$jill",Mode.HOST));
  FilesToRunProvider resourceExtractorBinary=Preconditions.checkNotNull(ruleContext.getExecutablePrerequisite("$resource_extractor",Mode.HOST));
  return new JackCompilationHelper(Preconditions.checkNotNull(ruleContext),Preconditions.checkNotNull(javaSemantics),useSanityChecks,resourceExtractorBinary,jackBinary,jillBinary,Preconditions.checkNotNull(androidBaseLibraryForJack),Preconditions.checkNotNull(outputArtifact),ImmutableSet.copyOf(javaSources),ImmutableSet.copyOf(sourceJars),ImmutableSet.copyOf(resources),processorClasspathJars.build(),ImmutableSet.copyOf(processorNames),exportedJackLibraries.build(),ImmutableSet.copyOf(exportedNonLibraryFiles),classpathJackLibraries.build(),ImmutableSet.copyOf(classpathNonLibraryFiles),dexJacks.build(),ImmutableSet.copyOf(dexJars));
}
