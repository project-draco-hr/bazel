{
  try {
    ServerSocketChannel channel=(ServerSocketChannel)getField(server,"transportServer","channel","ch");
    InetSocketAddress address=(InetSocketAddress)channel.getLocalAddress();
    return address.getPort();
  }
 catch (  IllegalAccessException|NullPointerException|IOException e) {
    throw new IllegalStateException("Cannot read server socket address from gRPC");
  }
}
