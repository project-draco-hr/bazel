{
  Iterable<String> givenFlags=targetControl.getLinkoptList();
  ImmutableList.Builder<String> flags=new ImmutableList.Builder<>();
  flags.addAll(givenFlags);
  if (!Equaling.of(ProductType.STATIC_LIBRARY,productType(targetControl))) {
    for (    String importedLibrary : targetControl.getImportedLibraryList()) {
      flags.add("$(WORKSPACE_ROOT)/" + importedLibrary);
    }
  }
  if (Containing.item(PRODUCT_TYPES_THAT_HAVE_A_BINARY,productType(targetControl))) {
    for (    String dylib : targetControl.getSdkDylibList()) {
      if (dylib.startsWith("lib")) {
        dylib=dylib.substring(3);
      }
      flags.add("-l" + dylib);
    }
  }
  return flags.build();
}
