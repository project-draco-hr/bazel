{
  if (obj == null) {
    return ImmutableList.of();
  }
  List<TYPE> results=new ArrayList<>();
  for (  Object object : com.google.devtools.build.lib.packages.Type.LIST.convert(obj,what)) {
    try {
      results.add(type.cast(object));
    }
 catch (    ClassCastException e) {
      throw new EvalException(null,String.format("Illegal argument: expected %s type for '%s' but got %s instead",EvalUtils.getDataTypeNameFromClass(type),what,EvalUtils.getDataTypeName(object)));
    }
  }
  return results;
}
