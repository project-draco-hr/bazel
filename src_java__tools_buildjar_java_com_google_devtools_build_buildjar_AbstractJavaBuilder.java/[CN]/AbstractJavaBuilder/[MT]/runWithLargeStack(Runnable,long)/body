{
  final Throwable[] unchecked={null};
  Thread t=new Thread(null,run,"runWithLargeStack",stackSize);
  t.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler(){
    @Override public void uncaughtException(    Thread t,    Throwable e){
      unchecked[0]=e;
    }
  }
);
  t.start();
  boolean wasInterrupted=false;
  for (; ; ) {
    try {
      t.join(0);
      break;
    }
 catch (    InterruptedException e) {
      wasInterrupted=true;
    }
  }
  if (wasInterrupted) {
    Thread.currentThread().interrupt();
  }
  if (unchecked[0] instanceof Error) {
    throw (Error)unchecked[0];
  }
 else   if (unchecked[0] instanceof RuntimeException) {
    throw (RuntimeException)unchecked[0];
  }
}
