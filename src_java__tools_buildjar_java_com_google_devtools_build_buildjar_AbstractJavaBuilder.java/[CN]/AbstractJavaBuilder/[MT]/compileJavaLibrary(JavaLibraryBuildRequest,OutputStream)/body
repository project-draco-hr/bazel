{
  prepareSourceCompilation(build);
  final Exception[] exception={null};
  final JavacRunner javacRunner=new JavacRunnerImpl(build.getPlugins());
  runWithLargeStack(new Runnable(){
    @Override public void run(){
      try {
        internalCompileJavaLibrary(build,javacRunner,err);
      }
 catch (      Exception e) {
        exception[0]=e;
      }
    }
  }
,4L * 1024 * 1024);
  if (exception[0] != null) {
    throw exception[0];
  }
}
