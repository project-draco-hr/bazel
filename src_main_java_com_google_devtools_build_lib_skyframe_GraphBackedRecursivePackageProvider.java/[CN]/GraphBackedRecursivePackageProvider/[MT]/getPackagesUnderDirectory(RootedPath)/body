{
  SkyKey recursivePackageKey=RecursivePkgValue.key(directory);
  if (!graph.exists(recursivePackageKey)) {
    return Collections.emptyList();
  }
  RecursivePkgValue lookup=(RecursivePkgValue)Preconditions.checkNotNull(graph.getValue(recursivePackageKey));
  return Iterables.transform(lookup.getPackages(),PathFragment.TO_PATH_FRAGMENT);
}
