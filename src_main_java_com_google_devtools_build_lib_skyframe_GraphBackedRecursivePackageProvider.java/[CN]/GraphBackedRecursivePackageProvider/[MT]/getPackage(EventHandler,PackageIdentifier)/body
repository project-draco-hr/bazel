{
  SkyKey pkgKey=PackageValue.key(packageName);
  PackageValue pkgValue;
  if (graph.exists(pkgKey)) {
    pkgValue=(PackageValue)graph.getValue(pkgKey);
    if (pkgValue == null) {
      NoSuchPackageException noSuchPackageException=(NoSuchPackageException)Preconditions.checkNotNull(graph.getException(pkgKey),pkgKey);
      Package pkg=noSuchPackageException.getPackage();
      if (pkg == null) {
        throw noSuchPackageException;
      }
      return pkg;
    }
  }
 else {
    throw new BuildFileNotFoundException(packageName,"BUILD file not found on package path");
  }
  return pkgValue.getPackage();
}
