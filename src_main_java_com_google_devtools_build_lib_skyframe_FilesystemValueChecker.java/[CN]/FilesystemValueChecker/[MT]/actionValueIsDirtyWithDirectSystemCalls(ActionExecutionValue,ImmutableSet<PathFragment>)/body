{
  boolean isDirty=false;
  for (  Map.Entry<Artifact,FileValue> entry : actionValue.getAllOutputArtifactData().entrySet()) {
    Artifact artifact=entry.getKey();
    FileValue lastKnownData=entry.getValue();
    if (shouldCheckArtifact(knownModifiedOutputFiles,artifact)) {
      try {
        FileValue fileValue=ActionMetadataHandler.fileValueFromArtifact(artifact,null,tsgm);
        if (!fileValue.equals(lastKnownData)) {
          updateIntraBuildModifiedCounter(fileValue.exists() ? fileValue.realRootedPath().asPath().getLastModifiedTime() : -1,lastKnownData.isSymlink(),fileValue.isSymlink());
          modifiedOutputFilesCounter.getAndIncrement();
          isDirty=true;
        }
      }
 catch (      IOException e) {
        modifiedOutputFilesCounter.getAndIncrement();
        isDirty=true;
      }
    }
  }
  return isDirty;
}
