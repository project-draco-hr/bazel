{
  if (result.hasError()) {
    for (    Map.Entry<SkyKey,ErrorInfo> entry : result.errorMap().entrySet()) {
      Iterable<CycleInfo> cycles=entry.getValue().getCycleInfo();
      skyframeExecutor.reportCycles(eventHandler,cycles,entry.getKey());
    }
    if (result.getCatastrophe() != null) {
      rethrow(result.getCatastrophe());
    }
    if (keepGoing) {
      return false;
    }
    ErrorInfo errorInfo=Preconditions.checkNotNull(result.getError(),result);
    Exception exception=errorInfo.getException();
    if (exception == null) {
      Preconditions.checkState(!Iterables.isEmpty(errorInfo.getCycleInfo()),errorInfo);
      throw new BuildFailedException(null,false);
    }
 else {
      rethrow(exception);
    }
  }
  return true;
}
