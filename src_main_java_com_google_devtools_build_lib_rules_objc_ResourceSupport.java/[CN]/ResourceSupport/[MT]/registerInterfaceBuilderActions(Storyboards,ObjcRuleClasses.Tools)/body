{
  for (  Artifact storyboardInput : storyboards.getInputs()) {
    String archiveRoot=BundleableFile.flatBundlePath(storyboardInput.getExecPath()) + "c";
    Artifact zipOutput=intermediateArtifacts.compiledStoryboardZip(storyboardInput);
    String minimumOs=ruleContext.getConfiguration().getFragment(ObjcConfiguration.class).getMinimumOs();
    ruleContext.registerAction(ObjcActionsBuilder.spawnJavaOnDarwinActionBuilder(tools.ibtoolzipDeployJar()).setMnemonic("StoryboardCompile").setCommandLine(new CustomCommandLine.Builder().addPath(zipOutput.getExecPath()).add(archiveRoot).addPath(ObjcActionsBuilder.IBTOOL).add("--minimum-deployment-target").add(minimumOs).addPath(storyboardInput.getExecPath()).build()).addOutput(zipOutput).addInput(storyboardInput).build(ruleContext));
  }
}
