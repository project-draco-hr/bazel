{
  StringBuilder regexp=new StringBuilder();
  for (int i=0, len=pattern.length(); i < len; i++) {
    char c=pattern.charAt(i);
switch (c) {
case '*':
      regexp.append(".*");
    break;
case '?':
  regexp.append('.');
break;
case '^':
case '$':
case '|':
case '+':
case '{':
case '}':
case '[':
case ']':
case '\\':
case '.':
regexp.append('\\');
regexp.append(c);
break;
default :
regexp.append(c);
break;
}
}
return Pattern.compile(regexp.toString());
}
