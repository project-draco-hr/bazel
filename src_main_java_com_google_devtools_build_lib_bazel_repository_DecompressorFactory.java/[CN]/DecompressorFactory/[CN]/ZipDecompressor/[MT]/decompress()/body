{
  Path destinationDirectory=archiveFile.getParentDirectory();
  try (InputStream is=new FileInputStream(archiveFile.getPathString())){
    ArchiveInputStream in=new ArchiveStreamFactory().createArchiveInputStream(ArchiveStreamFactory.ZIP,is);
    ZipArchiveEntry entry=(ZipArchiveEntry)in.getNextEntry();
    while (entry != null) {
      extractZipEntry(in,entry,destinationDirectory);
      entry=(ZipArchiveEntry)in.getNextEntry();
    }
  }
 catch (  IOException|ArchiveException e) {
    throw new DecompressorException(String.format("Error extracting %s to %s: %s",archiveFile,destinationDirectory,e.getMessage()));
  }
  return destinationDirectory;
}
