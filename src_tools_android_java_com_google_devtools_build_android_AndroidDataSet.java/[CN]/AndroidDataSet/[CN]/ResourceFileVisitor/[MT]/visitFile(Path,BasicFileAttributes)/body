{
  try {
    if (!Files.isDirectory(path)) {
      if (inValuesSubtree) {
        List<DataResource> targetOverwritableResources=new ArrayList<>();
        List<DataResource> targetNonOverwritableResources=new ArrayList<>();
        XmlDataResource.fromPath(xmlInputFactory,path,fqnFactory,targetOverwritableResources,targetNonOverwritableResources);
        for (        DataResource dataResource : targetOverwritableResources) {
          putOverwritingResource(dataResource);
        }
        for (        DataResource dataResource : targetNonOverwritableResources) {
          if (!nonOverwritingResources.containsKey(dataResource.dataKey())) {
            nonOverwritingResources.put(dataResource.dataKey(),dataResource);
          }
        }
      }
 else {
        DataResource dataResource=FileDataResource.fromPath(path,fqnFactory);
        putOverwritingResource(dataResource);
      }
    }
  }
 catch (  IllegalArgumentException|XMLStreamException e) {
    errors.add(e);
  }
  return super.visitFile(path,attrs);
}
