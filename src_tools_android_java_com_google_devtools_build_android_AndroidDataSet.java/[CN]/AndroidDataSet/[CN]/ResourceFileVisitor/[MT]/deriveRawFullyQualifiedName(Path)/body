{
  if (path.getNameCount() < 2) {
    throw new IllegalArgumentException(String.format("The resource path %s is too short. " + "The path is expected to be <resource type>/<file name>.",path));
  }
  String pathWithExtension=path.subpath(path.getNameCount() - 2,path.getNameCount()).toString();
  int extensionStart=pathWithExtension.lastIndexOf('.');
  if (extensionStart > 0) {
    return pathWithExtension.substring(0,extensionStart);
  }
  return pathWithExtension;
}
