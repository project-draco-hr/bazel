{
  buildTarget(target);
  AndroidStudioInfoFilesProvider provider=configuredAspect.getProvider(AndroidStudioInfoFilesProvider.class);
  Iterable<Artifact> artifacts=provider.getIdeInfoFiles();
  ImmutableMap.Builder<String,RuleIdeInfo> builder=ImmutableMap.builder();
  for (  Artifact artifact : artifacts) {
    Action generatingAction=getGeneratingAction(artifact);
    if (generatingAction instanceof BinaryFileWriteAction) {
      BinaryFileWriteAction writeAction=(BinaryFileWriteAction)generatingAction;
      RuleIdeInfo ruleIdeInfo=RuleIdeInfo.parseFrom(writeAction.getSource().openStream());
      builder.put(ruleIdeInfo.getLabel(),ruleIdeInfo);
    }
 else {
      verifyPackageManifestSpawnAction(generatingAction);
    }
  }
  return builder.build();
}
