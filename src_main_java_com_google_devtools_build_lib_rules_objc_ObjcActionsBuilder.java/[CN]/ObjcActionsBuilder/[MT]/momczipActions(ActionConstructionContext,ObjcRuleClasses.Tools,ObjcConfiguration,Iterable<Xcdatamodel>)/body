{
  ImmutableList.Builder<Action> result=new ImmutableList.Builder<>();
  for (  Xcdatamodel datamodel : datamodels) {
    final Artifact outputZip=datamodel.getOutputZip();
    final String archiveRoot=datamodel.archiveRootForMomczip();
    final String container=datamodel.getContainer().getSafePathString();
    result.add(spawnJavaOnDarwinActionBuilder(baseTools.momczipDeployJar()).setMnemonic("MomCompile").addOutput(outputZip).addInputs(datamodel.getInputs()).setCommandLine(new CommandLine(){
      @Override public Iterable<String> arguments(){
        return new ImmutableList.Builder<String>().add(outputZip.getExecPathString()).add(archiveRoot).add(IosSdkCommands.MOMC_PATH).addAll(commonMomczipArguments(objcConfiguration)).add(container).build();
      }
    }
).build(context));
  }
  return result.build();
}
