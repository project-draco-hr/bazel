{
  ImmutableList.Builder<Action> actions=new ImmutableList.Builder<>();
  actions.add(new FileWriteAction(context.getActionOwner(),objList,joinExecPaths(objFiles),false));
  actions.add(spawnOnDarwinActionBuilder().setMnemonic("ObjcLink").setExecutable(LIBTOOL).setCommandLine(new CommandLine(){
    @Override public Iterable<String> arguments(){
      return new ImmutableList.Builder<String>().add("-static").add("-filelist").add(objList.getExecPathString()).add("-arch_only").add(objcConfiguration.getIosCpu()).add("-syslibroot").add(IosSdkCommands.sdkDir(objcConfiguration)).add("-o").add(archive.getExecPathString()).build();
    }
  }
).addInputs(objFiles).addInput(objList).addOutput(archive).build(context));
  return actions.build();
}
