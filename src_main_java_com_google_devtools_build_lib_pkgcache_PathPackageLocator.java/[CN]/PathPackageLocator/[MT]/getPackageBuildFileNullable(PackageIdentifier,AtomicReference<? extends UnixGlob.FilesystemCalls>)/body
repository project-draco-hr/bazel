{
  if (packageIdentifier.getRepository().isDefault()) {
    return getFilePath(packageIdentifier.getPackageFragment().getRelative("BUILD"),cache);
  }
 else   if (!packageIdentifier.getRepository().isDefault()) {
    Verify.verify(outputBase != null,String.format("External package '%s' needs to be loaded but this PathPackageLocator instance does not " + "support external packages",packageIdentifier));
    Path buildFile=outputBase.getRelative(packageIdentifier.getPathFragment()).getRelative("BUILD");
    FileStatus stat=cache.get().statNullable(buildFile,Symlinks.FOLLOW);
    if (stat != null && stat.isFile()) {
      return buildFile;
    }
 else {
      return null;
    }
  }
 else {
    return null;
  }
}
