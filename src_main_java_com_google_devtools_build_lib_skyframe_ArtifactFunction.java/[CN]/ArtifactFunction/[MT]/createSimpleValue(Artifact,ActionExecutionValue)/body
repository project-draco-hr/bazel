{
  ArtifactValue value=actionValue.getArtifactValue(artifact);
  if (value != null) {
    return value;
  }
  Preconditions.checkState(!artifact.isMiddlemanArtifact(),artifact);
  FileValue data=Preconditions.checkNotNull(actionValue.getData(artifact),"%s %s",artifact,actionValue);
  Preconditions.checkNotNull(data.getDigest(),"Digest should already have been calculated for %s (%s)",artifact,data);
  return FileArtifactValue.create(artifact,data);
}
