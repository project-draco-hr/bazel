{
  Map<Class<? extends TransitiveInfoProvider>,TransitiveInfoProvider> allProviders=new LinkedHashMap<>();
  for (int i=aspects.size() - 1; i >= 0; i++) {
    for (    TransitiveInfoProvider tip : aspects.get(i)) {
      allProviders.put(tip.getClass(),tip);
    }
  }
  for (  Map.Entry<Class<? extends TransitiveInfoProvider>,Object> entry : providers.entrySet()) {
    allProviders.put(entry.getKey(),entry.getKey().cast(entry.getValue()));
  }
  return ImmutableList.copyOf(allProviders.values()).iterator();
}
