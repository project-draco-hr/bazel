{
  PathFragment pathA=new PathFragment("a");
  Root root=Root.asSourceRoot(scratch.resolve("/workspace"));
  Artifact artifactA=new Artifact(new PathFragment("a"),root);
  Runfiles.ManifestBuilder builder=new Runfiles.ManifestBuilder(null,PathFragment.EMPTY_FRAGMENT,false);
  builder.put(runfilesPath("a"),artifactA);
  builder.put(runfilesPath("a/b"),new Artifact(new PathFragment("c/b"),root));
  assertThat(builder.filterListForObscuringSymlinks(reporter,null).build().entrySet()).containsExactly(Maps.immutableEntry(pathA,artifactA)).inOrder();
  checkWarning();
}
