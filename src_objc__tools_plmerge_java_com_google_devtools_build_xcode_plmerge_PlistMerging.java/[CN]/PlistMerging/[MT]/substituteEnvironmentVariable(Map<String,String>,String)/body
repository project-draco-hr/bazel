{
  for (  Map.Entry<String,String> variable : substitutions.entrySet()) {
    for (    String variableNameWithFormatString : withFormatStrings(variable.getKey())) {
      string=string.replace("${" + variableNameWithFormatString + "}",variable.getValue()).replace("$(" + variableNameWithFormatString + ")",variable.getValue());
    }
  }
  return string;
}
