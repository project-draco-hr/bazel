{
  ImmutableList<Artifact> jarSources=ruleContext.getPrerequisiteArtifacts("srcs",Mode.TARGET).filter(JavaSemantics.JAR).list();
  if (jarSources.isEmpty()) {
    return inputJar;
  }
  Artifact mergedJar=ruleContext.getImplicitOutputArtifact(AndroidRuleClasses.ANDROID_LIBRARY_AAR_CLASSES_JAR);
  new SingleJarBuilder(ruleContext).setOutputJar(mergedJar).addInputJar(inputJar).addInputJars(jarSources).build();
  return mergedJar;
}
