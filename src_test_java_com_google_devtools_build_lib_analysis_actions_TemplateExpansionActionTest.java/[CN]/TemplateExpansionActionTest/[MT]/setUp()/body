{
  super.setUp();
  Root workspace=Root.asSourceRoot(scratchDir("/workspace"));
  outputRoot=Root.asDerivedRoot(scratchDir("/workspace"),scratchDir("/workspace/out"));
  Path input=scratchFile("/workspace/input.txt",TEMPLATE);
  inputArtifact=new Artifact(input,workspace);
  output=scratchFS().getPath("/workspace/out/destination.txt");
  outputArtifact=new Artifact(output,outputRoot);
  substitutions=Lists.newArrayList();
  substitutions.add(Substitution.of("%key%","foo"));
  substitutions.add(Substitution.of("%value%","bar"));
  directories=new BlazeDirectories(scratchFS().getPath("/install"),scratchFS().getPath("/base"),scratchFS().getPath("/workspace"));
  binTools=BinTools.empty(directories);
}
