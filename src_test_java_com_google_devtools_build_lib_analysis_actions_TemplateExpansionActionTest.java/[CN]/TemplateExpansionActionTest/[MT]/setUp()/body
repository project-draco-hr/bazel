{
  super.setUp();
  Root workspace=Root.asSourceRoot(scratch.dir("/workspace"));
  outputRoot=Root.asDerivedRoot(scratch.dir("/workspace"),scratch.dir("/workspace/out"));
  Path input=scratch.file("/workspace/input.txt",TEMPLATE);
  inputArtifact=new Artifact(input,workspace);
  output=scratch.resolve("/workspace/out/destination.txt");
  outputArtifact=new Artifact(output,outputRoot);
  substitutions=Lists.newArrayList();
  substitutions.add(Substitution.of("%key%","foo"));
  substitutions.add(Substitution.of("%value%","bar"));
  directories=new BlazeDirectories(scratch.resolve("/install"),scratch.resolve("/base"),scratch.resolve("/workspace"));
  binTools=BinTools.empty(directories);
}
