{
  ArtifactNamePattern patternForCategory=null;
  for (  ArtifactNamePattern artifactNamePattern : artifactNamePatterns) {
    if (artifactNamePattern.getArtifactCategory() == artifactCategory) {
      patternForCategory=artifactNamePattern;
    }
  }
  if (patternForCategory == null) {
    throw new ExpansionException(String.format(MISSING_ARTIFACT_NAME_PATTERN_ERROR_TEMPLATE,artifactCategory.getCategoryName()));
  }
  String templatedName=patternForCategory.getArtifactName(ruleContext);
  return artifactCategory.getArtifactForName(templatedName,ruleContext);
}
