{
  if (common.getCompilationArtifacts().isPresent()) {
    registerGenerateModuleMapAction(common.getCompilationArtifacts());
    IntermediateArtifacts intermediateArtifacts=ObjcRuleClasses.intermediateArtifacts(ruleContext);
    registerCompileAndArchiveActions(common.getCompilationArtifacts().get(),intermediateArtifacts,common.getObjcProvider(),intermediateArtifacts.moduleMap(),ruleContext.getConfiguration().isCodeCoverageEnabled());
  }
  return this;
}
