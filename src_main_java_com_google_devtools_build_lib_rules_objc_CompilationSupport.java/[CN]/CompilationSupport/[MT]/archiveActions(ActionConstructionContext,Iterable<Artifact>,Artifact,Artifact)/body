{
  ImmutableList.Builder<Action> actions=new ImmutableList.Builder<>();
  actions.add(new FileWriteAction(context.getActionOwner(),objList,Artifact.joinExecPaths("\n",objFiles),false));
  actions.add(ObjcRuleClasses.spawnAppleEnvActionBuilder(ruleContext,appleConfiguration.getIosCpuPlatform()).setMnemonic("ObjcLink").setExecutable(xcrunwrapper(ruleContext)).setCommandLine(new CustomCommandLine.Builder().add(LIBTOOL).add("-static").add("-filelist").add(objList.getExecPathString()).add("-arch_only").add(appleConfiguration.getIosCpu()).add("-syslibroot").add(AppleToolchain.sdkDir()).add("-o").add(archive.getExecPathString()).build()).addInputs(objFiles).addInput(objList).addOutput(archive).build(context));
  return actions.build();
}
