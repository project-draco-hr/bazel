{
  Optional<Artifact> dsymBundleZip;
  Optional<Artifact> linkmap;
  if (objcConfiguration.generateDebugSymbols()) {
    registerDsymActions(dsymOutputType);
    dsymBundleZip=Optional.of(intermediateArtifacts.tempDsymBundleZip(dsymOutputType));
  }
 else {
    dsymBundleZip=Optional.absent();
  }
  Iterable<Artifact> prunedJ2ObjcArchives=ImmutableList.<Artifact>of();
  if (stripJ2ObjcDeadCode()) {
    J2ObjcEntryClassProvider provider=J2ObjcEntryClassProvider.buildFrom(ruleContext);
    registerJ2ObjcDeadCodeRemovalActions(objcProvider,provider.getEntryClasses());
    prunedJ2ObjcArchives=j2objcPrunedLibraries(objcProvider);
  }
  if (objcConfiguration.generateLinkmap()) {
    linkmap=Optional.of(intermediateArtifacts.linkmap());
  }
 else {
    linkmap=Optional.absent();
  }
  registerLinkAction(objcProvider,extraLinkArgs,extraLinkInputs,dsymBundleZip,prunedJ2ObjcArchives,linkmap);
  return this;
}
