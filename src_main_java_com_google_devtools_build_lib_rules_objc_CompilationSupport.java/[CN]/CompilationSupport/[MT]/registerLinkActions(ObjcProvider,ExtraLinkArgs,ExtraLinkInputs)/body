{
  IntermediateArtifacts intermediateArtifacts=ObjcRuleClasses.intermediateArtifacts(ruleContext);
  Optional<Artifact> dsymBundle;
  if (ObjcRuleClasses.objcConfiguration(ruleContext).generateDebugSymbols()) {
    registerDsymActions();
    dsymBundle=Optional.of(intermediateArtifacts.dsymBundle());
  }
 else {
    dsymBundle=Optional.absent();
  }
  ExtraLinkArgs coverageLinkArgs=new ExtraLinkArgs();
  if (ruleContext.getConfiguration().isCodeCoverageEnabled()) {
    coverageLinkArgs=new ExtraLinkArgs(LINKER_COVERAGE_FLAGS);
  }
  ObjcRuleClasses.actionsBuilder(ruleContext).registerLinkAction(intermediateArtifacts.singleArchitectureBinary(),objcProvider,extraLinkArgs.appendedWith(coverageLinkArgs),extraLinkInputs,dsymBundle);
  return this;
}
