{
  scratch.file("test/skylark/iproute2_src_pkg","");
  scratch.file("test/skylark/extension.bzl","def custom_rule_impl(ctx):","  Label(ctx.attr.locations[0])","","custom_rule = rule(implementation = custom_rule_impl,","  attrs = {'locations': attr.string_list()})");
  checkError("test/skylark","cr","Illegal absolute label syntax: invalid_label","load('/test/skylark/extension', 'custom_rule')","","custom_rule(name = 'cr', locations = ['invalid_label'])");
}
