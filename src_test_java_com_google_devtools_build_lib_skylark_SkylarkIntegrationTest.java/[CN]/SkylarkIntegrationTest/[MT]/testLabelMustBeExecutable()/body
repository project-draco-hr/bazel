{
  scratch.file("test/skylark/extension.bzl","def rule_impl(ctx):","  return None","","custom_rule = rule(implementation = rule_impl,","  attrs = {'exe': attr.label(executable=True)})");
  checkError("test/skylark","cr","does not refer to a valid executable target","load('/test/skylark/extension', 'custom_rule')","","genrule(name = 'g',","  cmd = '',","  outs = ['out'])","custom_rule(name = 'cr', exe='g')");
}
