{
  scratch.file("test/skylark/extension.bzl","def custom_rule_impl(ctx):","  return struct(result = str(" + fullFieldName + ")",")","custom_rule = rule(implementation = custom_rule_impl,",String.format("     fragments = [%s],",fragments),String.format("     host_fragments = [%s],",hostFragments),")");
  scratch.file("test/skylark/BUILD","load('/test/skylark/extension','custom_rule')","custom_rule(name = 'cr')");
  return getConfiguredTarget("//test/skylark:cr");
}
