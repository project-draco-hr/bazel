{
  String value="????????";
  SkylarkRuleContext ruleContext=createRuleContext("//foo:foo");
  TemplateExpansionAction action=(TemplateExpansionAction)evalRuleContextCode(ruleContext,"ruleContext.template_action(","  template = ruleContext.files.srcs[0],","  output = ruleContext.files.srcs[1],","  substitutions = {'a': '" + convertUtf8ToLatin1(value) + "'},","  executable = False)");
  List<Substitution> substitutions=action.getSubstitutions();
  assertThat(substitutions).hasSize(1);
  assertThat(substitutions.get(0).getValue()).isEqualTo(value);
}
