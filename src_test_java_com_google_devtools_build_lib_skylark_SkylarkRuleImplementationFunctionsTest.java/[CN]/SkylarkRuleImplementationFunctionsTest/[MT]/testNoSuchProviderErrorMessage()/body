{
  checkErrorContains(createRuleContext("//foo:bar"),"target (rule class of 'java_library') " + "doesn't have provider 'my_provider'.","ruleContext.attr.srcs[0].my_provider");
}
