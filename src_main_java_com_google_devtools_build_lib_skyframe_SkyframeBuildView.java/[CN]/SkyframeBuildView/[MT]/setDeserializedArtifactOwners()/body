{
  Map<PathFragment,Artifact> deserializedArtifactMap=artifactFactory.getDeserializedArtifacts();
  Set<Artifact> deserializedArtifacts=new HashSet<>();
  for (  Artifact artifact : deserializedArtifactMap.values()) {
    if (!artifact.getExecPath().getBaseName().endsWith(".gcda")) {
      deserializedArtifacts.add(artifact);
    }
  }
  if (deserializedArtifacts.isEmpty()) {
    return;
  }
  for (  Map.Entry<SkyKey,ActionLookupValue> entry : skyframeExecutor.getActionLookupValueMap().entrySet()) {
    for (    Action action : entry.getValue().getActionsForFindingArtifactOwners()) {
      for (      Artifact output : action.getOutputs()) {
        Artifact deserializedArtifact=deserializedArtifactMap.get(output.getExecPath());
        if (deserializedArtifact != null) {
          deserializedArtifact.setArtifactOwner((ActionLookupKey)entry.getKey().argument());
          deserializedArtifacts.remove(deserializedArtifact);
        }
      }
    }
  }
  if (!deserializedArtifacts.isEmpty()) {
    throw new ViewCreationFailedException("These artifacts were read in from the FDO profile but" + " have no generating action that could be found. If you are confident that your profile was" + " collected from the same source state at which you're building, please report this:\n"+ Artifact.asExecPaths(deserializedArtifacts));
  }
  artifactFactory.clearDeserializedArtifacts();
}
