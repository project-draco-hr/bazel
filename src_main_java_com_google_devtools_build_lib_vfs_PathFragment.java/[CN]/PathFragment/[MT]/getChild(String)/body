{
  FileSystemUtils.checkBaseName(baseName);
  baseName=StringCanonicalizer.intern(baseName);
  String[] newSegments=new String[segments.length + 1];
  System.arraycopy(segments,0,newSegments,0,segments.length);
  newSegments[newSegments.length - 1]=baseName;
  return new PathFragment(driveLetter,isAbsolute,newSegments);
}
