{
  if (path instanceof String) {
    PathFragment pathFragment=new PathFragment(path.toString());
    if (pathFragment.isAbsolute()) {
      return new SkylarkPath(outputDirectory.getFileSystem().getPath(path.toString()));
    }
 else {
      return new SkylarkPath(outputDirectory.getRelative(pathFragment));
    }
  }
 else   if (path instanceof Label) {
    SkylarkPath result=getPathFromLabel((Label)path);
    if (result == null) {
      SkylarkRepositoryFunction.restart();
    }
    return result;
  }
 else   if (path instanceof SkylarkPath) {
    return (SkylarkPath)path;
  }
 else {
    throw new EvalException(Location.BUILTIN,method + " can only take a string or a label.");
  }
}
