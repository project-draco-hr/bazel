{
  checkLiveness();
  int result=-1;
switch (stream) {
case OUT:
    result=WindowsProcesses.nativeReadStdout(nativeProcess,b,off,len);
  break;
case ERR:
result=WindowsProcesses.nativeReadStderr(nativeProcess,b,off,len);
break;
}
if (result == -1) {
throw new IOException(WindowsProcesses.nativeGetLastError(nativeProcess));
}
return result;
}
