{
  for (  TransitiveInfoCollection dep : deps) {
    BuildConfiguration depConfig=dep.getConfiguration();
    if (depConfig != null && depConfig.hasFragment(CppConfiguration.class)) {
      Preconditions.checkState(depConfig.getFragment(CppConfiguration.class).equals(configuration.getFragment(CppConfiguration.class)));
    }
    this.deps.add(dep);
  }
  return this;
}
