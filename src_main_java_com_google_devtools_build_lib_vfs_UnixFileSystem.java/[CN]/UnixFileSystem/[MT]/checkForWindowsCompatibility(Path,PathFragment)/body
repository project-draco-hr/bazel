{
  if (symlinkStrategy != SymlinkStrategy.WINDOWS_COMPATIBLE) {
    return;
  }
  Path targetPath=linkPath.getRelative(targetFragment);
  if (!targetPath.exists(Symlinks.FOLLOW)) {
    emitSymlinkCompatibilityMessage("Target does not exist",linkPath,targetFragment);
    return;
  }
  targetPath=targetPath.resolveSymbolicLinks();
  if (targetPath.isDirectory()) {
    return;
  }
  if (isHardLinkAllowed(targetPath)) {
    return;
  }
  emitSymlinkCompatibilityMessage("Link to non-writable file",linkPath,targetFragment);
}
