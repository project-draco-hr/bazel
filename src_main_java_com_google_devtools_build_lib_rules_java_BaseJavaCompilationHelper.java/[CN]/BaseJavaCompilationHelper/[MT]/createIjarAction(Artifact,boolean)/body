{
  Artifact interfaceJar=getIjarArtifact(inputJar,addPrefix);
  final FilesToRunProvider ijarTarget=ruleContext.getExecutablePrerequisite("$ijar",Mode.HOST);
  if (!ruleContext.hasErrors()) {
    ruleContext.registerAction(new SpawnAction.Builder().addInput(inputJar).addOutput(interfaceJar).setExecutable(ijarTarget).addArgument(inputJar.getExecPathString()).addArgument(interfaceJar.getExecPathString()).setProgressMessage("Extracting interface " + ruleContext.getLabel()).setMnemonic("JavaIjar").build(ruleContext));
  }
  return interfaceJar;
}
