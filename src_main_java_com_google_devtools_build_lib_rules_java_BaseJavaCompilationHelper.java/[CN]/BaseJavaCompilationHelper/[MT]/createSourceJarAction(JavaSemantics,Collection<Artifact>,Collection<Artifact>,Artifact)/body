{
  ruleContext.registerAction(new SpawnAction.Builder().addOutput(outputJar).addInputs(resources).addInputs(resourceJars).addTransitiveInputs(JavaCompilationHelper.getHostJavabaseInputs(ruleContext)).setJarExecutable(ruleContext.getHostConfiguration().getFragment(Jvm.class).getJavaExecutable(),ruleContext.getPrerequisiteArtifact("$singlejar",Mode.HOST),ImmutableList.of("-client",SINGLEJAR_MAX_MEMORY)).setCommandLine(sourceJarCommandLine(semantics,outputJar,resources,resourceJars)).useParameterFile(ParameterFileType.SHELL_QUOTED).setProgressMessage("Building source jar " + outputJar.prettyPrint()).setMnemonic("JavaSourceJar").build(ruleContext));
}
