{
  Path releaseFilePath=directoryValue.realRootedPath().asPath().getRelative("ndk/RELEASE.TXT");
  SkyKey releaseFileKey=FileValue.key(RootedPath.toRootedPath(releaseFilePath,PathFragment.EMPTY_FRAGMENT));
  String releaseFileContent;
  try {
    env.getValueOrThrow(releaseFileKey,IOException.class,FileSymlinkException.class,InconsistentFilesystemException.class);
    releaseFileContent=new String(FileSystemUtils.readContent(releaseFilePath));
  }
 catch (  IOException|FileSymlinkException|InconsistentFilesystemException e) {
    throw new RepositoryFunctionException(new IOException("Could not read RELEASE.TXT in Android NDK: " + e.getMessage()),Transience.PERSISTENT);
  }
  return NdkRelease.create(releaseFileContent.trim());
}
