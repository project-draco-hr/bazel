{
  IosDeviceProvider targetDevice=ruleContext.getPrerequisite("target_device",Mode.TARGET,IosDeviceProvider.class);
  if (targetDevice == null) {
    ObjcConfiguration objcConfiguration=ObjcRuleClasses.objcConfiguration(ruleContext);
    targetDevice=new IosDeviceProvider.Builder().setType(objcConfiguration.getIosCpu().equals("x86_64") ? "iPhone 6" : "iPhone 5").setIosVersion(objcConfiguration.getIosSimulatorVersion()).setLocale("en").build();
  }
  return targetDevice;
}
