{
  ImmutableList.Builder<Substitution> substitutions=new ImmutableList.Builder<Substitution>().add(Substitution.of("%(iossim_path)s",iossim().getRootRelativePath().getPathString())).addAll(deviceSubstitutions().getSubstitutionsForTestRunnerScript());
  Optional<Artifact> testRunner=testRunner();
  if (testRunner.isPresent()) {
    substitutions.add(Substitution.of("%(testrunner_binary)s",testRunner.get().getRootRelativePathString()));
  }
  return substitutions.build();
}
