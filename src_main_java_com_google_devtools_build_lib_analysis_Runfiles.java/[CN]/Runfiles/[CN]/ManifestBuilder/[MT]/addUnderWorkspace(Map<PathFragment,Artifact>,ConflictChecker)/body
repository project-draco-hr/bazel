{
  for (  Map.Entry<PathFragment,Artifact> entry : inputManifest.entrySet()) {
    PathFragment path=entry.getKey();
    if (isUnderWorkspace(path)) {
      sawWorkspaceName=true;
    }
 else     if (legacyExternalRunfiles) {
      checker.put(manifest,workspaceName.getRelative(Label.EXTERNAL_PACKAGE_NAME).getRelative(workspaceName).getRelative(path).normalize(),entry.getValue());
    }
    checker.put(manifest,workspaceName.getRelative(path).normalize(),entry.getValue());
  }
}
