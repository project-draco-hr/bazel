{
  artifactsBuilder.addTransitive(runfiles.getUnconditionalArtifacts());
  symlinksBuilder.addTransitive(runfiles.getSymlinks());
  rootSymlinksBuilder.addTransitive(runfiles.getRootSymlinks());
  if (suffix == null) {
    suffix=runfiles.suffix;
  }
  if (includePruningManifests) {
    pruningManifestsBuilder.addTransitive(runfiles.getPruningManifests());
  }
  if (manifestExpander == DUMMY_SYMLINK_EXPANDER) {
    manifestExpander=runfiles.getSymlinkExpander();
  }
 else {
    Function<Map<PathFragment,Artifact>,Map<PathFragment,Artifact>> otherExpander=runfiles.getSymlinkExpander();
    Preconditions.checkState((otherExpander == DUMMY_SYMLINK_EXPANDER) || manifestExpander.equals(otherExpander));
  }
  return this;
}
