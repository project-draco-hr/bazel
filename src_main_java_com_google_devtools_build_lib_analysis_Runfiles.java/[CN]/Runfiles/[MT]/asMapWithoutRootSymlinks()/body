{
  ManifestBuilder builder=new ManifestBuilder(ConflictChecker.IGNORE_CHECKER,suffix,legacyRepositoryStructure).putSymlinks(symlinks);
  for (  Artifact artifact : Iterables.filter(unconditionalArtifacts,Artifact.MIDDLEMAN_FILTER)) {
    builder.put(RunfilesPath.resolve(artifact.getRootRelativePath(),suffix),artifact);
  }
  return builder.build();
}
