{
  commandStartTime-=options.startupTime;
  eventBus.post(new GotOptionsEvent(runtime.getStartupOptionsProvider(),optionsParser));
  throwPendingException();
  outputService=null;
  BlazeModule outputModule=null;
  for (  BlazeModule module : runtime.getBlazeModules()) {
    OutputService moduleService=module.getOutputService();
    if (moduleService != null) {
      if (outputService != null) {
        throw new IllegalStateException(String.format("More than one module (%s and %s) returns an output service",module.getClass(),outputModule.getClass()));
      }
      outputService=moduleService;
      outputModule=module;
    }
  }
  getSkyframeExecutor().setBatchStatter(outputService == null ? null : outputService.getBatchStatter());
  runtime.beforeCommand(command,this,optionsParser,options,execStartTimeNanos);
}
