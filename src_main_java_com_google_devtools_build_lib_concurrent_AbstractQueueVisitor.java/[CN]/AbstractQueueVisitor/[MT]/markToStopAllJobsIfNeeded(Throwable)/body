{
  boolean critical=false;
  ErrorClassification errorClassification=errorClassifier.classify(e);
switch (errorClassification) {
case CRITICAL_AND_LOG:
    critical=true;
  LOG.log(Level.WARNING,"Found critical error in queue visitor",e);
break;
case CRITICAL:
critical=true;
break;
default :
break;
}
errorHandler.handle(e,errorClassification);
synchronized (zeroRemainingTasks) {
if (critical && !jobsMustBeStopped) {
jobsMustBeStopped=true;
zeroRemainingTasks.notify();
}
}
}
