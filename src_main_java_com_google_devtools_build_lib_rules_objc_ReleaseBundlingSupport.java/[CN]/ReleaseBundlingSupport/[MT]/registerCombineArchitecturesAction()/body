{
  Artifact resultingLinkedBinary=intermediateArtifacts.combinedArchitectureBinary();
  NestedSet<Artifact> linkedBinaries=linkedBinaries();
  ruleContext.registerAction(ObjcRuleClasses.spawnOnDarwinActionBuilder(ruleContext).setMnemonic("ObjcCombiningArchitectures").addTransitiveInputs(linkedBinaries).addOutput(resultingLinkedBinary).setExecutable(ObjcRuleClasses.XCRUN).setCommandLine(CustomCommandLine.builder().add(ObjcRuleClasses.LIPO).addExecPaths("-create",linkedBinaries).addExecPath("-o",resultingLinkedBinary).build()).build(ruleContext));
}
