{
  if (bundleSupport.isBuildingForWatch()) {
    return;
  }
  Artifact resultingLinkedBinary=intermediateArtifacts.combinedArchitectureBinary();
  AppleConfiguration appleConfiguration=ruleContext.getFragment(AppleConfiguration.class);
  new LipoSupport(ruleContext).registerCombineArchitecturesAction(linkedBinaries(),resultingLinkedBinary,appleConfiguration.getIosCpuPlatform());
}
