{
  ruleContext.registerAction(ObjcActionsBuilder.spawnOnDarwinActionBuilder().setMnemonic("ExtractIosTeamPrefix").setExecutable(new PathFragment("/bin/bash")).addArgument("-c").addArgument("set -e &&" + " PLIST=$(" + extractPlistCommand(attributes.provisioningProfile()) + ") && "+ " PREFIX=$(/usr/libexec/PlistBuddy -c 'Print ApplicationIdentifierPrefix:0'"+ " /dev/stdin <<< \"${PLIST}\") && "+ " echo ${PREFIX} > "+ teamPrefixFile.getExecPathString()).addInput(attributes.provisioningProfile()).addOutput(teamPrefixFile).build(ruleContext));
}
