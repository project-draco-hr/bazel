{
  if (!objcProvider.is(USES_SWIFT)) {
    return;
  }
  AppleConfiguration appleConfiguration=ruleContext.getFragment(AppleConfiguration.class);
  CustomCommandLine.Builder commandLine=CustomCommandLine.builder().addPath(intermediateArtifacts.swiftFrameworksFileZip().getExecPath()).add("--platform").add(AppleToolchain.swiftPlatform(appleConfiguration)).addExecPath("--scan-executable",intermediateArtifacts.combinedArchitectureBinary());
  ruleContext.registerAction(ObjcRuleClasses.spawnXcrunActionBuilder(ruleContext).setMnemonic("SwiftStdlibCopy").setExecutable(attributes.swiftStdlibToolWrapper()).setCommandLine(commandLine.build()).addOutput(intermediateArtifacts.swiftFrameworksFileZip()).addInput(intermediateArtifacts.combinedArchitectureBinary()).addInput(attributes.realpath()).addInput(CompilationSupport.xcrunwrapper(ruleContext).getExecutable()).build(ruleContext));
}
