{
  if (!objcProvider.is(USES_SWIFT)) {
    return;
  }
  ObjcConfiguration objcConfiguration=ObjcRuleClasses.objcConfiguration(ruleContext);
  CustomCommandLine.Builder commandLine=CustomCommandLine.builder().addPath(intermediateArtifacts.swiftFrameworksFileZip().getExecPath()).add("Frameworks").addPath(ObjcRuleClasses.SWIFT_STDLIB_TOOL).add("--platform").add(IosSdkCommands.swiftPlatform(objcConfiguration)).addExecPath("--scan-executable",intermediateArtifacts.combinedArchitectureBinary());
  ruleContext.registerAction(ObjcRuleClasses.spawnJavaOnDarwinActionBuilder(ruleContext,attributes.swiftStdlibToolDeployJar()).setMnemonic("SwiftStdlibCopy").setCommandLine(commandLine.build()).addOutput(intermediateArtifacts.swiftFrameworksFileZip()).addInput(intermediateArtifacts.combinedArchitectureBinary()).build(ruleContext));
}
