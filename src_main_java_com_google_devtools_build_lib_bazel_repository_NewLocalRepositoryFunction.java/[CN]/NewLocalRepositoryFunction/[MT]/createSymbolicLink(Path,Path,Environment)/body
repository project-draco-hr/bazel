{
  try {
    if (!from.exists()) {
      from.createSymbolicLink(to);
    }
  }
 catch (  IOException e) {
    throw new RepositoryFunctionException(new IOException("Error creating symbolic link from " + from + " to "+ to+ ": "+ e.getMessage()),Transience.TRANSIENT);
  }
  SkyKey outputDirectoryKey=FileValue.key(RootedPath.toRootedPath(from,PathFragment.EMPTY_FRAGMENT));
  try {
    return (FileValue)env.getValueOrThrow(outputDirectoryKey,IOException.class,FileSymlinkCycleException.class,InconsistentFilesystemException.class);
  }
 catch (  IOException|FileSymlinkCycleException|InconsistentFilesystemException e) {
    throw new RepositoryFunctionException(new IOException("Could not access " + from + ": "+ e.getMessage()),Transience.PERSISTENT);
  }
}
