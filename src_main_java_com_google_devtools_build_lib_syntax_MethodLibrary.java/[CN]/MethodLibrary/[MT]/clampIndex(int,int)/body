{
  if (index < 0) {
    index+=length;
  }
  return Math.max(Math.min(index,length),0);
}
