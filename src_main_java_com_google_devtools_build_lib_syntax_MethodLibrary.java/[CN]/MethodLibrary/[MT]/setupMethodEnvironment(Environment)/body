{
  env.registerFunction(Map.class,indexOperator.getName(),indexOperator);
  setupMethodEnvironment(env,Map.class,dictFunctions);
  env.registerFunction(String.class,indexOperator.getName(),indexOperator);
  setupMethodEnvironment(env,String.class,stringFunctions);
  setupMethodEnvironment(env,List.class,listPureFunctions);
  setupMethodEnvironment(env,SkylarkList.class,listPureFunctions);
  setupMethodEnvironment(env,SkylarkNestedSet.class,setFunctions);
  env.registerFunction(SkylarkList.class,indexOperator.getName(),indexOperator);
  env.registerFunction(List.class,indexOperator.getName(),indexOperator);
  env.registerFunction(ImmutableList.class,indexOperator.getName(),indexOperator);
  if (env.isSkylarkEnabled()) {
    setupMethodEnvironment(env,skylarkGlobalFunctions);
  }
 else {
    setupMethodEnvironment(env,List.class,listFunctions);
    setupMethodEnvironment(env,pureGlobalFunctions);
  }
}
