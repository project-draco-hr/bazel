{
  final JarCreator jar=new JarCreator(build.getGeneratedClassOutputJar());
  jar.setNormalize(true);
  jar.setCompression(build.compressJar());
  final Path classDir=Paths.get(build.getClassDir()).toAbsolutePath();
  Files.walkFileTree(classDir,new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult visitFile(    Path file,    BasicFileAttributes attrs) throws IOException {
      if (build.getProcessingModule().isGeneratedClass(file)) {
        file=file.toAbsolutePath();
        jar.addEntry(classDir.relativize(file).toString(),file.toString());
      }
      return FileVisitResult.CONTINUE;
    }
  }
);
  jar.execute();
}
