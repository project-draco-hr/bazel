{
  ImmutableList<List<String>> perms=ImmutableList.copyOf(Collections2.permutations(keys));
  final Iterator<List<String>> permutationsIter=Iterables.cycle(perms).iterator();
  return new Supplier<KeyedLocker.AutoUnlocker>(){
    @Override public AutoUnlocker get(){
      Set<String> keys;
synchronized (this) {
        keys=ImmutableSet.copyOf(permutationsIter.next());
      }
      return batchLocker.lockBatch(keys);
    }
  }
;
}
