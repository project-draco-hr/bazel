{
  String labelToTest=":subdir/containing/file.bzl";
  SkylarkImport importForLabel=SkylarkImports.create(labelToTest);
  assertThat(importForLabel.hasAbsolutePath()).isFalse();
  Label containingFile=Label.parseAbsolute("//some/skylark:BUILD");
  assertThat(importForLabel.getLabel(containingFile)).isEqualTo(Label.parseAbsolute("//some/skylark:subdir/containing/file.bzl"));
  thrown.expect(IllegalStateException.class);
  importForLabel.getAbsolutePath();
}
