{
  graph=new InMemoryGraph();
  set("a","a");
  set("b","b");
  set("c","c");
  tester.getOrCreate("ab").addDependency("a").addDependency("b").setComputedValue(CONCATENATE);
  tester.getOrCreate("bc").addDependency("b").addDependency("c").setComputedValue(CONCATENATE);
  tester.getOrCreate("ab_c").addDependency("ab").addDependency("c").setComputedValue(CONCATENATE);
  eval(false,skyKey("ab_c"),skyKey("bc"));
  assertThat(graph.get(skyKey("a")).getReverseDeps()).containsExactly(skyKey("ab"));
  assertThat(graph.get(skyKey("b")).getReverseDeps()).containsExactly(skyKey("ab"),skyKey("bc"));
  assertThat(graph.get(skyKey("c")).getReverseDeps()).containsExactly(skyKey("ab_c"),skyKey("bc"));
  invalidateWithoutError(null,skyKey("ab"));
  eval(false);
  assertTrue(isInvalidated(skyKey("ab")));
  assertTrue(isInvalidated(skyKey("abc")));
  assertThat(graph.get(skyKey("a")).getReverseDeps()).isEmpty();
  assertThat(graph.get(skyKey("b")).getReverseDeps()).containsExactly(skyKey("bc"));
  assertThat(graph.get(skyKey("c")).getReverseDeps()).containsExactly(skyKey("bc"));
}
