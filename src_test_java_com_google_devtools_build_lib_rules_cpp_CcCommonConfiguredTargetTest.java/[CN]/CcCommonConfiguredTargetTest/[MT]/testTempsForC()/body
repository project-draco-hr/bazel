{
  useConfiguration("--save_temps");
  scratch.file("csrc/BUILD","cc_library(name='csrc',","           srcs=['foo.c'])");
  ConfiguredTarget csrcTarget=getConfiguredTarget("//csrc:csrc");
  List<Artifact> cTemps=ImmutableList.copyOf(getOutputGroup(csrcTarget,OutputGroupProvider.TEMP_FILES));
  assertThat(cTemps).hasSize(2);
  assertThat(filter(cTemps,fileTypePredicate(CppFileTypes.PIC_PREPROCESSED_C))).hasSize(1);
  assertThat(filter(cTemps,fileTypePredicate(CppFileTypes.PIC_ASSEMBLER))).hasSize(1);
}
