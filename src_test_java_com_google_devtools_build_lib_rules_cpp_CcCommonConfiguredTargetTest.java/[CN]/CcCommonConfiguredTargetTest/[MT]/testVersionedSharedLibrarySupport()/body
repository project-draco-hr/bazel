{
  ConfiguredTarget target=scratchConfiguredTarget("mypackage","mybinary","cc_binary(name = 'mybinary',","           srcs = ['mybinary.cc'],","           deps = [':mylib'])","cc_library(name = 'mylib',","           srcs = ['libshared.so', 'libshared.so.1.1', 'foo.cc'])");
  Iterable<Artifact> libraries=getLinkerInputs(target);
  assertThat(baseArtifactNames(libraries)).containsAllOf("mybinary.pic.o","libmylib.a","libshared.so","libshared.so.1.1");
}
