{
  ImmutableMap<String,Attribute> attributes=aspect.getDefinition().getAttributes();
  for (  Attribute aspectAttribute : attributes.values()) {
    if (!dependencyFilter.apply(aspect,aspectAttribute)) {
      continue;
    }
    if (aspectAttribute.getType() == BuildType.LABEL) {
      Label label=from.getLabel().resolveRepositoryRelative(BuildType.LABEL.cast(aspectAttribute.getDefaultValue(from)));
      if (label != null) {
        labelBuilder.put(aspectAttribute,label);
      }
    }
 else     if (aspectAttribute.getType() == BuildType.LABEL_LIST) {
      for (      Label label : BuildType.LABEL_LIST.cast(aspectAttribute.getDefaultValue(from))) {
        labelBuilder.put(aspectAttribute,from.getLabel().resolveRepositoryRelative(label));
      }
    }
  }
}
