{
  Preconditions.checkArgument(excludedSubdirectories.isEmpty(),"Target pattern \"%s\" of type %s cannot be evaluated with excluded subdirectories: %s.",originalPattern,getType(),excludedSubdirectories);
  if (checkWildcardConflict) {
    ResolvedTargets<T> targets=getWildcardConflict(resolver);
    if (targets != null) {
      return targets;
    }
  }
  return resolver.getTargetsInPackage(originalPattern,removeSuffix(pattern,suffix),rulesOnly);
}
